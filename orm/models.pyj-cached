{
	"version": "11f4892304465d65e022681312abc87bd57b6b4f",
	"signature": "5d31a01c14c7ccaad10413f7c34f93ff5a1b4797",
	"classes": {
		"Model": {
			"name": {
				"name": "Model"
			},
			"static": [],
			"bound": [],
			"classvars": {
				"_name": true,
				"_inherit": true,
				"_fields": true,
				"_values": true,
				"_related": true
			}
		}
	},
	"baselib": {},
	"nonlocalvars": [],
	"imported_module_ids": [
		"orm.fields",
		"orm.tools",
		"orm.pouchdb"
	],
	"exports": [
		{
			"name": "env"
		},
		{
			"name": "Model"
		}
	],
	"outputs": {
		"beautify:true keep_docstrings:true js_version:5": "        var env;\n        var fields = ρσ_modules[\"orm.fields\"];\n\n        var keys = ρσ_modules[\"orm.tools\"].keys;\n        var dict = ρσ_modules[\"orm.tools\"].dict;\n        var checkBase64 = ρσ_modules[\"orm.tools\"].checkBase64;\n        var empty = ρσ_modules[\"orm.tools\"].empty;\n\n        var db = ρσ_modules[\"orm.pouchdb\"].db;\n\n        env = {};\n        function Model() {\n            if (this.ρσ_object_id === undefined) Object.defineProperty(this, \"ρσ_object_id\", {\"value\":++ρσ_object_counter});\n            Model.prototype.__init__.apply(this, arguments);\n        }\n        Model.prototype.__init__ = function __init__() {\n            var self = this;\n            var _is_env = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__._is_env : arguments[0];\n            var _is_singleton = (arguments[1] === undefined || ( 1 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__._is_singleton : arguments[1];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"_is_env\")){\n                _is_env = ρσ_kwargs_obj._is_env;\n            }\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"_is_singleton\")){\n                _is_singleton = ρσ_kwargs_obj._is_singleton;\n            }\n            var schema, type, key;\n            self._is_env = _is_env;\n            self._is_singleton = _is_singleton;\n            if (empty(env[ρσ_bound_index(self._name, env)])) {\n                env[ρσ_bound_index(self._name, env)] = true;\n                env[self._name] = new self.constructor(_is_env=true);\n                env[ρσ_bound_index(self._name, env)]._is_env = true;\n            }\n            if (self._is_env) {\n                return;\n            }\n            self.env = env;\n            schema = (function(){\n                var ρσ_d = {};\n                ρσ_d[\"singular\"] = self._name;\n                ρσ_d[\"plural\"] = self._name;\n                return ρσ_d;\n            }).call(this);\n            if (self._is_singleton) {\n                self.id = null;\n                self._fields[\"id\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"ID\", related: \"_id\", store: true})]);\n                self._id = null;\n                self._fields[\"_id\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"ID (Raw)\"})]);\n                self.rev = null;\n                self._fields[\"rev\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"DB Revision Number\", related: \"_rev\", store: true})]);\n                self._rev = null;\n                self._fields[\"_rev\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"DB Revision Number\"})]);\n            } else {\n                self.ids = ρσ_list_decorate([]);\n                self._fields[\"ids\"] = ρσ_interpolate_kwargs.call(fields, fields.Data, [ρσ_desugar_kwargs({string: \"IDs\"})]);\n            }\n            var ρσ_Iter0 = ρσ_Iterable((function() {\n                var ρσ_Iter = ρσ_Iterable(Object.getOwnPropertyNames(self.constructor.prototype)), ρσ_Result = [], key;\n                for (var ρσ_Index = 0; ρσ_Index < ρσ_Iter.length; ρσ_Index++) {\n                    key = ρσ_Iter[ρσ_Index];\n                    if ((key[0] !== \"_\" && (typeof key[0] !== \"object\" || ρσ_not_equals(key[0], \"_\"))) && !(ρσ_in(key, ρσ_list_decorate([ \"constructor\", \"env\" ])))) {\n                        ρσ_Result.push(key);\n                    }\n                }\n                ρσ_Result = ρσ_list_constructor(ρσ_Result);\n                return ρσ_Result;\n            })());\n            for (var ρσ_Index0 = 0; ρσ_Index0 < ρσ_Iter0.length; ρσ_Index0++) {\n                key = ρσ_Iter0[ρσ_Index0];\n                if (ρσ_in(self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type, ρσ_list_decorate([ \"many2one\", \"one2many\", \"many2many\", \"one2one\" ]))) {\n                    if (!schema.relations) {\n                        schema.relations = {};\n                    }\n                    type = \"belongsTo\";\n                    if (ρσ_in(self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type, ρσ_list_decorate([ \"one2many\", \"many2many\" ]))) {\n                        type = \"hasMany\";\n                    }\n                    if ((self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type !== \"one2many\" && (typeof self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type !== \"object\" || ρσ_not_equals(self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type, \"one2many\")))) {\n                        (ρσ_expr_temp = schema.relations)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = (function(){\n                            var ρσ_d = {};\n                            ρσ_d[type] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key].relation;\n                            return ρσ_d;\n                        }).call(this);\n                    } else {\n                        (ρσ_expr_temp = schema.relations)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = (function(){\n                            var ρσ_d = {};\n                            ρσ_d[type] = (function(){\n                                var ρσ_d = {};\n                                ρσ_d[\"type\"] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key].relation;\n                                ρσ_d[\"options\"] = (function(){\n                                    var ρσ_d = {};\n                                    ρσ_d[\"queryInverse\"] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key].inverse;\n                                    return ρσ_d;\n                                }).call(this);\n                                return ρσ_d;\n                            }).call(this);\n                            return ρσ_d;\n                        }).call(this);\n                    }\n                }\n                (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key];\n                if (self._is_singleton) {\n                    if (!empty((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related)) {\n                        if (empty((ρσ_expr_temp = self._related)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)])) {\n                            (ρσ_expr_temp = self._related)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)] = ρσ_list_decorate([]);\n                        }\n                        (ρσ_expr_temp = self._related)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)].push(key);\n                    }\n                    (ρσ_expr_temp = self._values)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].default;\n                    Object.defineProperty(self, key, {\n               get: function() {return self._values[key]},\n               set: function(value) {self._values[key] = self.adapt(key, value)},\n               });\n                }\n            }\n            db.setSchema(ρσ_list_decorate([ schema ]));\n        };\n        if (!Model.prototype.__init__.__defaults__) Object.defineProperties(Model.prototype.__init__, {\n            __defaults__ : {value: {_is_env:false, _is_singleton:true}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"_is_env\", \"_is_singleton\"]}\n        });\n        Model.__argnames__ = Model.prototype.__init__.__argnames__;\n        Model.__handles_kwarg_interpolation__ = Model.prototype.__init__.__handles_kwarg_interpolation__;\n        Model.prototype.browse = function browse() {\n            var self = this;\n            var ids = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? browse.__defaults__.ids : arguments[0];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"ids\")){\n                ids = ρσ_kwargs_obj.ids;\n            }\n            if (empty(ids)) {\n                return new self.constructor();\n            } else if ((ids.constructor === String || typeof ids.constructor === \"object\" && ρσ_equals(ids.constructor, String))) {\n                self = self.browse();\n                db.get(ids).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        self.id = ids;\n                        self._values = record;\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else if ((ids.constructor === Array || typeof ids.constructor === \"object\" && ρσ_equals(ids.constructor, Array))) {\n                var self = new self.constructor(false, false);\n                db.rel.find(self._name, ids).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        self.ids = ids;\n                        self._values = record[ρσ_bound_index(self._name, record)];\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            }\n            return self;\n        };\n        if (!Model.prototype.browse.__defaults__) Object.defineProperties(Model.prototype.browse, {\n            __defaults__ : {value: {ids:false}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"ids\"]}\n        });\n        Model.prototype.search = function search() {\n            var self = this;\n            var options = arguments[arguments.length-1];\n            if (options === null || typeof options !== \"object\" || options [ρσ_kwargs_symbol] !== true) options = {};\n            var args = Array.prototype.slice.call(arguments, 0);\n            if (options !== null && typeof options === \"object\" && options [ρσ_kwargs_symbol] === true) args.pop();\n            function query(record) {\n                var results, arg;\n                results = ρσ_list_decorate([]);\n                var ρσ_Iter1 = ρσ_Iterable(args);\n                for (var ρσ_Index1 = 0; ρσ_Index1 < ρσ_Iter1.length; ρσ_Index1++) {\n                    arg = ρσ_Iter1[ρσ_Index1];\n                    if ((arg === \"|\" || typeof arg === \"object\" && ρσ_equals(arg, \"|\"))) {\n                        continue;\n                    }\n                    if ((arg[1] === \"=\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"=\"))) {\n                        results.push((record[ρσ_bound_index(arg[0], record)] === arg[2] || typeof record[ρσ_bound_index(arg[0], record)] === \"object\" && ρσ_equals(record[ρσ_bound_index(arg[0], record)], arg[2])));\n                    } else if ((arg[1] === \">\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \">\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] > arg[2]);\n                    } else if ((arg[1] === \">=\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \">=\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] >= arg[2]);\n                    } else if ((arg[1] === \"<\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"<\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] < arg[2]);\n                    } else if ((arg[1] === \"<=\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"<=\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] <= arg[2]);\n                    } else if ((arg[1] === \"in\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"in\"))) {\n                        results.push(ρσ_in(record[ρσ_bound_index(arg[0], record)], arg[2]));\n                    }\n                }\n                if (empty(args)) {\n                    return true;\n                } else if ((args[0] === \"|\" || typeof args[0] === \"object\" && ρσ_equals(args[0], \"|\"))) {\n                    return results.some((function() {\n                        var ρσ_anonfunc = function (result) {\n                            return (result === true || typeof result === \"object\" && ρσ_equals(result, true));\n                        };\n                        if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                            __argnames__ : {value: [\"result\"]}\n                        });\n                        return ρσ_anonfunc;\n                    })());\n                } else {\n                    return results.every((function() {\n                        var ρσ_anonfunc = function (result) {\n                            return (result === true || typeof result === \"object\" && ρσ_equals(result, true));\n                        };\n                        if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                            __argnames__ : {value: [\"result\"]}\n                        });\n                        return ρσ_anonfunc;\n                    })());\n                }\n            };\n            if (!query.__argnames__) Object.defineProperties(query, {\n                __argnames__ : {value: [\"record\"]}\n            });\n\n            if ((options[\"limit\"] === 1 || typeof options[\"limit\"] === \"object\" && ρσ_equals(options[\"limit\"], 1))) {\n                self = self.browse();\n                db.rel.find(self._name).then((function() {\n                    var ρσ_anonfunc = function (records) {\n                        var record;\n                        record = records[ρσ_bound_index(self._name, records)].find(query);\n                        self.id = record.id;\n                        self._values = record;\n                        console.log(self);\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"records\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else {\n                var self = new self.constructor(false, false);\n                db.rel.find(self._name).then((function() {\n                    var ρσ_anonfunc = function (records) {\n                        var value;\n                        self._values = records[ρσ_bound_index(self._name, records)].filter(query);\n                        self.ids = (function() {\n                            var ρσ_Iter = ρσ_Iterable(self._values), ρσ_Result = [], value;\n                            for (var ρσ_Index = 0; ρσ_Index < ρσ_Iter.length; ρσ_Index++) {\n                                value = ρσ_Iter[ρσ_Index];\n                                ρσ_Result.push(value.id);\n                            }\n                            ρσ_Result = ρσ_list_constructor(ρσ_Result);\n                            return ρσ_Result;\n                        })();\n                        console.log(self);\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"records\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            }\n            return self;\n        };\n        if (!Model.prototype.search.__handles_kwarg_interpolation__) Object.defineProperties(Model.prototype.search, {\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: []}\n        });\n        Model.prototype.read = function read() {\n            var self = this;\n            if (self._is_env) {\n                return {};\n            }\n            return self._values;\n        };\n        if (!Model.prototype.read.__argnames__) Object.defineProperties(Model.prototype.read, {\n            __argnames__ : {value: []}\n        });\n        Model.prototype.adapt = function adapt(key, value) {\n            var self = this;\n            var field;\n            if (self._is_env) {\n                return;\n            }\n            if (ρσ_in((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, ρσ_list_decorate([ \"char\", \"text\" ]))) {\n                value = new String(value);\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"integer\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"integer\"))) {\n                value = parseInt(value);\n                if (isNaN(value)) {\n                    return new Exception(\"Not a valid Number\");\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"float\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"float\"))) {\n                value = parseFloat(value);\n                if (isNaN(value)) {\n                    return new Exception(\"Not a valid Number\");\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"boolean\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"boolean\"))) {\n                if (ρσ_in(value, ρσ_list_decorate([ \"true\", \"True\" ]))) {\n                    value = true;\n                } else if (ρσ_in(value, ρσ_list_decorate([ \"false\", \"False\" ]))) {\n                    value = false;\n                } else if (ρσ_equals(type(value), String)) {\n                    return new Exception(\"Not a valid Boolean\");\n                } else {\n                    value = Boolean(value);\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"binary\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"binary\"))) {\n                if (!checkBase64(value)) {\n                    return new Exception(\"Not a valid base64\");\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"selection\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"selection\"))) {\n                if (ρσ_in(!value, dict((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].selection))) {\n                    return new Exception(\"Incorrect value\");\n                }\n            }\n            if ((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].store) {\n                if (!empty((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related)) {\n                    (ρσ_expr_temp = self._values)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)] = value;\n                }\n                if (!empty((ρσ_expr_temp = self._related)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key])) {\n                    var ρσ_Iter2 = ρσ_Iterable((ρσ_expr_temp = self._related)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key]);\n                    for (var ρσ_Index2 = 0; ρσ_Index2 < ρσ_Iter2.length; ρσ_Index2++) {\n                        field = ρσ_Iter2[ρσ_Index2];\n                        (ρσ_expr_temp = self._values)[(typeof field === \"number\" && field < 0) ? ρσ_expr_temp.length + field : field] = value;\n                    }\n                }\n            }\n            return value;\n        };\n        if (!Model.prototype.adapt.__argnames__) Object.defineProperties(Model.prototype.adapt, {\n            __argnames__ : {value: [\"key\", \"value\"]},\n            __doc__ : {value: \"elif self._fields[key].type in ['many2one', 'one2one']:\\nif isinstance(value, models.Model):\\n   value = value.id\\nelse:\\n   value = parseInt(value)\\n   if isNaN(value):\\n      return Exception(\\\"Not a valid ID\\\")\"}\n        });\n        Model.prototype.update = function update(values) {\n            var self = this;\n            var value, object, key;\n            if (self._is_env) {\n                return;\n            }\n            var ρσ_Iter3 = ρσ_Iterable(keys(values));\n            for (var ρσ_Index3 = 0; ρσ_Index3 < ρσ_Iter3.length; ρσ_Index3++) {\n                key = ρσ_Iter3[ρσ_Index3];\n                value = self.adapt(key, values[(typeof key === \"number\" && key < 0) ? values.length + key : key]);\n                if (self._is_singleton) {\n                    (ρσ_expr_temp = self._values)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = value;\n                } else {\n                    var ρσ_Iter4 = ρσ_Iterable(self._values);\n                    for (var ρσ_Index4 = 0; ρσ_Index4 < ρσ_Iter4.length; ρσ_Index4++) {\n                        object = ρσ_Iter4[ρσ_Index4];\n                        object[(typeof key === \"number\" && key < 0) ? object.length + key : key] = value;\n                    }\n                }\n            }\n        };\n        if (!Model.prototype.update.__argnames__) Object.defineProperties(Model.prototype.update, {\n            __argnames__ : {value: [\"values\"]}\n        });\n        Model.prototype.create = function create() {\n            var self = this;\n            var values = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? create.__defaults__.values : arguments[0];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"values\")){\n                values = ρσ_kwargs_obj.values;\n            }\n            if (empty(values)) {\n                values = self.read();\n            } else {\n                merge(self.read(), values);\n            }\n            if (self._is_env) {\n                self = self.browse();\n                self.update(values);\n            }\n            ρσ_delitem(values, \"id\");\n            db.rel.save(self._name, values).then((function() {\n                var ρσ_anonfunc = function (record) {\n                    self.id = record[ρσ_bound_index(self._name, record)][0].id;\n                };\n                if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                    __argnames__ : {value: [\"record\"]}\n                });\n                return ρσ_anonfunc;\n            })());\n            return self;\n        };\n        if (!Model.prototype.create.__defaults__) Object.defineProperties(Model.prototype.create, {\n            __defaults__ : {value: {values:false}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"values\"]}\n        });\n        Model.prototype.write = function write() {\n            var self = this;\n            var values = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? write.__defaults__.values : arguments[0];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"values\")){\n                values = ρσ_kwargs_obj.values;\n            }\n            if (empty(self.id) && empty(self.ids)) {\n                return;\n            }\n            if (empty(values)) {\n                if (!self._is_singleton) {\n                    return;\n                }\n                values = self.read();\n            } else {\n                self.update(values);\n                values = self.read();\n            }\n            if (self._is_singleton) {\n                db.get(self.id).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        return db.put(merge((function(){\n                            var ρσ_d = {};\n                            ρσ_d[\"_id\"] = record._id;\n                            ρσ_d[\"_rev\"] = record._rev;\n                            return ρσ_d;\n                        }).call(this), values));\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else {\n                db.bulkDocs(values).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        self._values = record;\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            }\n            return self;\n        };\n        if (!Model.prototype.write.__defaults__) Object.defineProperties(Model.prototype.write, {\n            __defaults__ : {value: {values:false}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"values\"]}\n        });\n        Model.prototype.unlink = function unlink() {\n            var self = this;\n            var value;\n            if (empty(self.id) && empty(self.ids)) {\n                return;\n            }\n            if (self._is_singleton) {\n                db.get(self.id).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        db.remove(record);\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else {\n                var ρσ_Iter5 = ρσ_Iterable(self._values);\n                for (var ρσ_Index5 = 0; ρσ_Index5 < ρσ_Iter5.length; ρσ_Index5++) {\n                    value = ρσ_Iter5[ρσ_Index5];\n                    value[\"_deleted\"] = true;\n                }\n                db.bulkDocs(self._values);\n            }\n            return true;\n        };\n        if (!Model.prototype.unlink.__argnames__) Object.defineProperties(Model.prototype.unlink, {\n            __argnames__ : {value: []}\n        });\n        Model.prototype.__repr__ = function __repr__ () {\n                        return \"<\" + __name__ + \".\" + this.constructor.name + \" #\" + this.ρσ_object_id + \">\";\n        };\n        Model.prototype.__str__ = function __str__ () {\n            return this.__repr__();\n        };\n        Object.defineProperty(Model.prototype, \"__bases__\", {value: []});\n        Model.prototype._name = \"undefined\";\n        Model.prototype._inherit = false;\n        Model.prototype._fields = {};\n        Model.prototype._values = {};\n        Model.prototype._related = {};\n\n        ρσ_modules[\"orm.models\"].env = env;\n        ρσ_modules[\"orm.models\"].Model = Model;\n",
		"beautify:true keep_docstrings:true js_version:6": "        var env;\n        var fields = ρσ_modules[\"orm.fields\"];\n\n        var keys = ρσ_modules[\"orm.tools\"].keys;\n        var dict = ρσ_modules[\"orm.tools\"].dict;\n        var checkBase64 = ρσ_modules[\"orm.tools\"].checkBase64;\n        var empty = ρσ_modules[\"orm.tools\"].empty;\n\n        var db = ρσ_modules[\"orm.pouchdb\"].db;\n\n        env = {};\n        function Model() {\n            if (this.ρσ_object_id === undefined) Object.defineProperty(this, \"ρσ_object_id\", {\"value\":++ρσ_object_counter});\n            Model.prototype.__init__.apply(this, arguments);\n        }\n        Model.prototype.__init__ = function __init__() {\n            var self = this;\n            var _is_env = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__._is_env : arguments[0];\n            var _is_singleton = (arguments[1] === undefined || ( 1 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__._is_singleton : arguments[1];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"_is_env\")){\n                _is_env = ρσ_kwargs_obj._is_env;\n            }\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"_is_singleton\")){\n                _is_singleton = ρσ_kwargs_obj._is_singleton;\n            }\n            var schema, type, key;\n            self._is_env = _is_env;\n            self._is_singleton = _is_singleton;\n            if (empty(env[ρσ_bound_index(self._name, env)])) {\n                env[ρσ_bound_index(self._name, env)] = true;\n                env[self._name] = new self.constructor(_is_env=true);\n                env[ρσ_bound_index(self._name, env)]._is_env = true;\n            }\n            if (self._is_env) {\n                return;\n            }\n            self.env = env;\n            schema = (function(){\n                var ρσ_d = {};\n                ρσ_d[\"singular\"] = self._name;\n                ρσ_d[\"plural\"] = self._name;\n                return ρσ_d;\n            }).call(this);\n            if (self._is_singleton) {\n                self.id = null;\n                self._fields[\"id\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"ID\", related: \"_id\", store: true})]);\n                self._id = null;\n                self._fields[\"_id\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"ID (Raw)\"})]);\n                self.rev = null;\n                self._fields[\"rev\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"DB Revision Number\", related: \"_rev\", store: true})]);\n                self._rev = null;\n                self._fields[\"_rev\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"DB Revision Number\"})]);\n            } else {\n                self.ids = ρσ_list_decorate([]);\n                self._fields[\"ids\"] = ρσ_interpolate_kwargs.call(fields, fields.Data, [ρσ_desugar_kwargs({string: \"IDs\"})]);\n            }\n            var ρσ_Iter0 = (function() {\n                var ρσ_Iter = Object.getOwnPropertyNames(self.constructor.prototype), ρσ_Result = [], key;\n                ρσ_Iter = ((typeof ρσ_Iter[Symbol.iterator] === \"function\") ? (ρσ_Iter instanceof Map ? ρσ_Iter.keys() : ρσ_Iter) : Object.keys(ρσ_Iter));\n                for (var ρσ_Index of ρσ_Iter) {\n                    key = ρσ_Index;\n                    if ((key[0] !== \"_\" && (typeof key[0] !== \"object\" || ρσ_not_equals(key[0], \"_\"))) && !(ρσ_in(key, ρσ_list_decorate([ \"constructor\", \"env\" ])))) {\n                        ρσ_Result.push(key);\n                    }\n                }\n                ρσ_Result = ρσ_list_constructor(ρσ_Result);\n                return ρσ_Result;\n            })();\n            ρσ_Iter0 = ((typeof ρσ_Iter0[Symbol.iterator] === \"function\") ? (ρσ_Iter0 instanceof Map ? ρσ_Iter0.keys() : ρσ_Iter0) : Object.keys(ρσ_Iter0));\n            for (var ρσ_Index0 of ρσ_Iter0) {\n                key = ρσ_Index0;\n                if (ρσ_in(self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type, ρσ_list_decorate([ \"many2one\", \"one2many\", \"many2many\", \"one2one\" ]))) {\n                    if (!schema.relations) {\n                        schema.relations = {};\n                    }\n                    type = \"belongsTo\";\n                    if (ρσ_in(self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type, ρσ_list_decorate([ \"one2many\", \"many2many\" ]))) {\n                        type = \"hasMany\";\n                    }\n                    if ((self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type !== \"one2many\" && (typeof self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type !== \"object\" || ρσ_not_equals(self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type, \"one2many\")))) {\n                        (ρσ_expr_temp = schema.relations)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = (function(){\n                            var ρσ_d = {};\n                            ρσ_d[type] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key].relation;\n                            return ρσ_d;\n                        }).call(this);\n                    } else {\n                        (ρσ_expr_temp = schema.relations)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = (function(){\n                            var ρσ_d = {};\n                            ρσ_d[type] = (function(){\n                                var ρσ_d = {};\n                                ρσ_d[\"type\"] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key].relation;\n                                ρσ_d[\"options\"] = (function(){\n                                    var ρσ_d = {};\n                                    ρσ_d[\"queryInverse\"] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key].inverse;\n                                    return ρσ_d;\n                                }).call(this);\n                                return ρσ_d;\n                            }).call(this);\n                            return ρσ_d;\n                        }).call(this);\n                    }\n                }\n                (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key];\n                if (self._is_singleton) {\n                    if (!empty((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related)) {\n                        if (empty((ρσ_expr_temp = self._related)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)])) {\n                            (ρσ_expr_temp = self._related)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)] = ρσ_list_decorate([]);\n                        }\n                        (ρσ_expr_temp = self._related)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)].push(key);\n                    }\n                    (ρσ_expr_temp = self._values)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].default;\n                    Object.defineProperty(self, key, {\n               get: function() {return self._values[key]},\n               set: function(value) {self._values[key] = self.adapt(key, value)},\n               });\n                }\n            }\n            db.setSchema(ρσ_list_decorate([ schema ]));\n        };\n        if (!Model.prototype.__init__.__defaults__) Object.defineProperties(Model.prototype.__init__, {\n            __defaults__ : {value: {_is_env:false, _is_singleton:true}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"_is_env\", \"_is_singleton\"]}\n        });\n        Model.__argnames__ = Model.prototype.__init__.__argnames__;\n        Model.__handles_kwarg_interpolation__ = Model.prototype.__init__.__handles_kwarg_interpolation__;\n        Model.prototype.browse = function browse() {\n            var self = this;\n            var ids = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? browse.__defaults__.ids : arguments[0];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"ids\")){\n                ids = ρσ_kwargs_obj.ids;\n            }\n            if (empty(ids)) {\n                return new self.constructor();\n            } else if ((ids.constructor === String || typeof ids.constructor === \"object\" && ρσ_equals(ids.constructor, String))) {\n                self = self.browse();\n                db.get(ids).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        self.id = ids;\n                        self._values = record;\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else if ((ids.constructor === Array || typeof ids.constructor === \"object\" && ρσ_equals(ids.constructor, Array))) {\n                var self = new self.constructor(false, false);\n                db.rel.find(self._name, ids).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        self.ids = ids;\n                        self._values = record[ρσ_bound_index(self._name, record)];\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            }\n            return self;\n        };\n        if (!Model.prototype.browse.__defaults__) Object.defineProperties(Model.prototype.browse, {\n            __defaults__ : {value: {ids:false}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"ids\"]}\n        });\n        Model.prototype.search = function search() {\n            var self = this;\n            var options = arguments[arguments.length-1];\n            if (options === null || typeof options !== \"object\" || options [ρσ_kwargs_symbol] !== true) options = {};\n            var args = Array.prototype.slice.call(arguments, 0);\n            if (options !== null && typeof options === \"object\" && options [ρσ_kwargs_symbol] === true) args.pop();\n            function query(record) {\n                var results, arg;\n                results = ρσ_list_decorate([]);\n                var ρσ_Iter1 = args;\n                ρσ_Iter1 = ((typeof ρσ_Iter1[Symbol.iterator] === \"function\") ? (ρσ_Iter1 instanceof Map ? ρσ_Iter1.keys() : ρσ_Iter1) : Object.keys(ρσ_Iter1));\n                for (var ρσ_Index1 of ρσ_Iter1) {\n                    arg = ρσ_Index1;\n                    if ((arg === \"|\" || typeof arg === \"object\" && ρσ_equals(arg, \"|\"))) {\n                        continue;\n                    }\n                    if ((arg[1] === \"=\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"=\"))) {\n                        results.push((record[ρσ_bound_index(arg[0], record)] === arg[2] || typeof record[ρσ_bound_index(arg[0], record)] === \"object\" && ρσ_equals(record[ρσ_bound_index(arg[0], record)], arg[2])));\n                    } else if ((arg[1] === \">\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \">\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] > arg[2]);\n                    } else if ((arg[1] === \">=\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \">=\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] >= arg[2]);\n                    } else if ((arg[1] === \"<\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"<\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] < arg[2]);\n                    } else if ((arg[1] === \"<=\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"<=\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] <= arg[2]);\n                    } else if ((arg[1] === \"in\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"in\"))) {\n                        results.push(ρσ_in(record[ρσ_bound_index(arg[0], record)], arg[2]));\n                    }\n                }\n                if (empty(args)) {\n                    return true;\n                } else if ((args[0] === \"|\" || typeof args[0] === \"object\" && ρσ_equals(args[0], \"|\"))) {\n                    return results.some((function() {\n                        var ρσ_anonfunc = function (result) {\n                            return (result === true || typeof result === \"object\" && ρσ_equals(result, true));\n                        };\n                        if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                            __argnames__ : {value: [\"result\"]}\n                        });\n                        return ρσ_anonfunc;\n                    })());\n                } else {\n                    return results.every((function() {\n                        var ρσ_anonfunc = function (result) {\n                            return (result === true || typeof result === \"object\" && ρσ_equals(result, true));\n                        };\n                        if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                            __argnames__ : {value: [\"result\"]}\n                        });\n                        return ρσ_anonfunc;\n                    })());\n                }\n            };\n            if (!query.__argnames__) Object.defineProperties(query, {\n                __argnames__ : {value: [\"record\"]}\n            });\n\n            if ((options[\"limit\"] === 1 || typeof options[\"limit\"] === \"object\" && ρσ_equals(options[\"limit\"], 1))) {\n                self = self.browse();\n                db.rel.find(self._name).then((function() {\n                    var ρσ_anonfunc = function (records) {\n                        var record;\n                        record = records[ρσ_bound_index(self._name, records)].find(query);\n                        self.id = record.id;\n                        self._values = record;\n                        console.log(self);\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"records\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else {\n                var self = new self.constructor(false, false);\n                db.rel.find(self._name).then((function() {\n                    var ρσ_anonfunc = function (records) {\n                        var value;\n                        self._values = records[ρσ_bound_index(self._name, records)].filter(query);\n                        self.ids = (function() {\n                            var ρσ_Iter = self._values, ρσ_Result = [], value;\n                            ρσ_Iter = ((typeof ρσ_Iter[Symbol.iterator] === \"function\") ? (ρσ_Iter instanceof Map ? ρσ_Iter.keys() : ρσ_Iter) : Object.keys(ρσ_Iter));\n                            for (var ρσ_Index of ρσ_Iter) {\n                                value = ρσ_Index;\n                                ρσ_Result.push(value.id);\n                            }\n                            ρσ_Result = ρσ_list_constructor(ρσ_Result);\n                            return ρσ_Result;\n                        })();\n                        console.log(self);\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"records\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            }\n            return self;\n        };\n        if (!Model.prototype.search.__handles_kwarg_interpolation__) Object.defineProperties(Model.prototype.search, {\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: []}\n        });\n        Model.prototype.read = function read() {\n            var self = this;\n            if (self._is_env) {\n                return {};\n            }\n            return self._values;\n        };\n        if (!Model.prototype.read.__argnames__) Object.defineProperties(Model.prototype.read, {\n            __argnames__ : {value: []}\n        });\n        Model.prototype.adapt = function adapt(key, value) {\n            var self = this;\n            var field;\n            if (self._is_env) {\n                return;\n            }\n            if (ρσ_in((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, ρσ_list_decorate([ \"char\", \"text\" ]))) {\n                value = new String(value);\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"integer\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"integer\"))) {\n                value = parseInt(value);\n                if (isNaN(value)) {\n                    return new Exception(\"Not a valid Number\");\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"float\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"float\"))) {\n                value = parseFloat(value);\n                if (isNaN(value)) {\n                    return new Exception(\"Not a valid Number\");\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"boolean\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"boolean\"))) {\n                if (ρσ_in(value, ρσ_list_decorate([ \"true\", \"True\" ]))) {\n                    value = true;\n                } else if (ρσ_in(value, ρσ_list_decorate([ \"false\", \"False\" ]))) {\n                    value = false;\n                } else if (ρσ_equals(type(value), String)) {\n                    return new Exception(\"Not a valid Boolean\");\n                } else {\n                    value = Boolean(value);\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"binary\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"binary\"))) {\n                if (!checkBase64(value)) {\n                    return new Exception(\"Not a valid base64\");\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"selection\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"selection\"))) {\n                if (ρσ_in(!value, dict((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].selection))) {\n                    return new Exception(\"Incorrect value\");\n                }\n            }\n            if ((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].store) {\n                if (!empty((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related)) {\n                    (ρσ_expr_temp = self._values)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)] = value;\n                }\n                if (!empty((ρσ_expr_temp = self._related)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key])) {\n                    var ρσ_Iter2 = (ρσ_expr_temp = self._related)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key];\n                    ρσ_Iter2 = ((typeof ρσ_Iter2[Symbol.iterator] === \"function\") ? (ρσ_Iter2 instanceof Map ? ρσ_Iter2.keys() : ρσ_Iter2) : Object.keys(ρσ_Iter2));\n                    for (var ρσ_Index2 of ρσ_Iter2) {\n                        field = ρσ_Index2;\n                        (ρσ_expr_temp = self._values)[(typeof field === \"number\" && field < 0) ? ρσ_expr_temp.length + field : field] = value;\n                    }\n                }\n            }\n            return value;\n        };\n        if (!Model.prototype.adapt.__argnames__) Object.defineProperties(Model.prototype.adapt, {\n            __argnames__ : {value: [\"key\", \"value\"]},\n            __doc__ : {value: \"elif self._fields[key].type in ['many2one', 'one2one']:\\nif isinstance(value, models.Model):\\n   value = value.id\\nelse:\\n   value = parseInt(value)\\n   if isNaN(value):\\n      return Exception(\\\"Not a valid ID\\\")\"}\n        });\n        Model.prototype.update = function update(values) {\n            var self = this;\n            var value, object, key;\n            if (self._is_env) {\n                return;\n            }\n            var ρσ_Iter3 = keys(values);\n            ρσ_Iter3 = ((typeof ρσ_Iter3[Symbol.iterator] === \"function\") ? (ρσ_Iter3 instanceof Map ? ρσ_Iter3.keys() : ρσ_Iter3) : Object.keys(ρσ_Iter3));\n            for (var ρσ_Index3 of ρσ_Iter3) {\n                key = ρσ_Index3;\n                value = self.adapt(key, values[(typeof key === \"number\" && key < 0) ? values.length + key : key]);\n                if (self._is_singleton) {\n                    (ρσ_expr_temp = self._values)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = value;\n                } else {\n                    var ρσ_Iter4 = self._values;\n                    ρσ_Iter4 = ((typeof ρσ_Iter4[Symbol.iterator] === \"function\") ? (ρσ_Iter4 instanceof Map ? ρσ_Iter4.keys() : ρσ_Iter4) : Object.keys(ρσ_Iter4));\n                    for (var ρσ_Index4 of ρσ_Iter4) {\n                        object = ρσ_Index4;\n                        object[(typeof key === \"number\" && key < 0) ? object.length + key : key] = value;\n                    }\n                }\n            }\n        };\n        if (!Model.prototype.update.__argnames__) Object.defineProperties(Model.prototype.update, {\n            __argnames__ : {value: [\"values\"]}\n        });\n        Model.prototype.create = function create() {\n            var self = this;\n            var values = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? create.__defaults__.values : arguments[0];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"values\")){\n                values = ρσ_kwargs_obj.values;\n            }\n            if (empty(values)) {\n                values = self.read();\n            } else {\n                merge(self.read(), values);\n            }\n            if (self._is_env) {\n                self = self.browse();\n                self.update(values);\n            }\n            ρσ_delitem(values, \"id\");\n            db.rel.save(self._name, values).then((function() {\n                var ρσ_anonfunc = function (record) {\n                    self.id = record[ρσ_bound_index(self._name, record)][0].id;\n                };\n                if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                    __argnames__ : {value: [\"record\"]}\n                });\n                return ρσ_anonfunc;\n            })());\n            return self;\n        };\n        if (!Model.prototype.create.__defaults__) Object.defineProperties(Model.prototype.create, {\n            __defaults__ : {value: {values:false}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"values\"]}\n        });\n        Model.prototype.write = function write() {\n            var self = this;\n            var values = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? write.__defaults__.values : arguments[0];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"values\")){\n                values = ρσ_kwargs_obj.values;\n            }\n            if (empty(self.id) && empty(self.ids)) {\n                return;\n            }\n            if (empty(values)) {\n                if (!self._is_singleton) {\n                    return;\n                }\n                values = self.read();\n            } else {\n                self.update(values);\n                values = self.read();\n            }\n            if (self._is_singleton) {\n                db.get(self.id).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        return db.put(merge((function(){\n                            var ρσ_d = {};\n                            ρσ_d[\"_id\"] = record._id;\n                            ρσ_d[\"_rev\"] = record._rev;\n                            return ρσ_d;\n                        }).call(this), values));\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else {\n                db.bulkDocs(values).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        self._values = record;\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            }\n            return self;\n        };\n        if (!Model.prototype.write.__defaults__) Object.defineProperties(Model.prototype.write, {\n            __defaults__ : {value: {values:false}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"values\"]}\n        });\n        Model.prototype.unlink = function unlink() {\n            var self = this;\n            var value;\n            if (empty(self.id) && empty(self.ids)) {\n                return;\n            }\n            if (self._is_singleton) {\n                db.get(self.id).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        db.remove(record);\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else {\n                var ρσ_Iter5 = self._values;\n                ρσ_Iter5 = ((typeof ρσ_Iter5[Symbol.iterator] === \"function\") ? (ρσ_Iter5 instanceof Map ? ρσ_Iter5.keys() : ρσ_Iter5) : Object.keys(ρσ_Iter5));\n                for (var ρσ_Index5 of ρσ_Iter5) {\n                    value = ρσ_Index5;\n                    value[\"_deleted\"] = true;\n                }\n                db.bulkDocs(self._values);\n            }\n            return true;\n        };\n        if (!Model.prototype.unlink.__argnames__) Object.defineProperties(Model.prototype.unlink, {\n            __argnames__ : {value: []}\n        });\n        Model.prototype.__repr__ = function __repr__ () {\n                        return \"<\" + __name__ + \".\" + this.constructor.name + \" #\" + this.ρσ_object_id + \">\";\n        };\n        Model.prototype.__str__ = function __str__ () {\n            return this.__repr__();\n        };\n        Object.defineProperty(Model.prototype, \"__bases__\", {value: []});\n        Model.prototype._name = \"undefined\";\n        Model.prototype._inherit = false;\n        Model.prototype._fields = {};\n        Model.prototype._values = {};\n        Model.prototype._related = {};\n\n        ρσ_modules[\"orm.models\"].env = env;\n        ρσ_modules[\"orm.models\"].Model = Model;\n",
		"beautify:true keep_docstrings:false js_version:5": "        var env;\n        var fields = ρσ_modules[\"orm.fields\"];\n\n        var keys = ρσ_modules[\"orm.tools\"].keys;\n        var dict = ρσ_modules[\"orm.tools\"].dict;\n        var checkBase64 = ρσ_modules[\"orm.tools\"].checkBase64;\n        var empty = ρσ_modules[\"orm.tools\"].empty;\n\n        var db = ρσ_modules[\"orm.pouchdb\"].db;\n\n        env = {};\n        function Model() {\n            if (this.ρσ_object_id === undefined) Object.defineProperty(this, \"ρσ_object_id\", {\"value\":++ρσ_object_counter});\n            Model.prototype.__init__.apply(this, arguments);\n        }\n        Model.prototype.__init__ = function __init__() {\n            var self = this;\n            var _is_env = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__._is_env : arguments[0];\n            var _is_singleton = (arguments[1] === undefined || ( 1 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__._is_singleton : arguments[1];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"_is_env\")){\n                _is_env = ρσ_kwargs_obj._is_env;\n            }\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"_is_singleton\")){\n                _is_singleton = ρσ_kwargs_obj._is_singleton;\n            }\n            var schema, type, key;\n            self._is_env = _is_env;\n            self._is_singleton = _is_singleton;\n            if (empty(env[ρσ_bound_index(self._name, env)])) {\n                env[ρσ_bound_index(self._name, env)] = true;\n                env[self._name] = new self.constructor(_is_env=true);\n                env[ρσ_bound_index(self._name, env)]._is_env = true;\n            }\n            if (self._is_env) {\n                return;\n            }\n            self.env = env;\n            schema = (function(){\n                var ρσ_d = {};\n                ρσ_d[\"singular\"] = self._name;\n                ρσ_d[\"plural\"] = self._name;\n                return ρσ_d;\n            }).call(this);\n            if (self._is_singleton) {\n                self.id = null;\n                self._fields[\"id\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"ID\", related: \"_id\", store: true})]);\n                self._id = null;\n                self._fields[\"_id\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"ID (Raw)\"})]);\n                self.rev = null;\n                self._fields[\"rev\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"DB Revision Number\", related: \"_rev\", store: true})]);\n                self._rev = null;\n                self._fields[\"_rev\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"DB Revision Number\"})]);\n            } else {\n                self.ids = ρσ_list_decorate([]);\n                self._fields[\"ids\"] = ρσ_interpolate_kwargs.call(fields, fields.Data, [ρσ_desugar_kwargs({string: \"IDs\"})]);\n            }\n            var ρσ_Iter0 = ρσ_Iterable((function() {\n                var ρσ_Iter = ρσ_Iterable(Object.getOwnPropertyNames(self.constructor.prototype)), ρσ_Result = [], key;\n                for (var ρσ_Index = 0; ρσ_Index < ρσ_Iter.length; ρσ_Index++) {\n                    key = ρσ_Iter[ρσ_Index];\n                    if ((key[0] !== \"_\" && (typeof key[0] !== \"object\" || ρσ_not_equals(key[0], \"_\"))) && !(ρσ_in(key, ρσ_list_decorate([ \"constructor\", \"env\" ])))) {\n                        ρσ_Result.push(key);\n                    }\n                }\n                ρσ_Result = ρσ_list_constructor(ρσ_Result);\n                return ρσ_Result;\n            })());\n            for (var ρσ_Index0 = 0; ρσ_Index0 < ρσ_Iter0.length; ρσ_Index0++) {\n                key = ρσ_Iter0[ρσ_Index0];\n                if (ρσ_in(self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type, ρσ_list_decorate([ \"many2one\", \"one2many\", \"many2many\", \"one2one\" ]))) {\n                    if (!schema.relations) {\n                        schema.relations = {};\n                    }\n                    type = \"belongsTo\";\n                    if (ρσ_in(self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type, ρσ_list_decorate([ \"one2many\", \"many2many\" ]))) {\n                        type = \"hasMany\";\n                    }\n                    if ((self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type !== \"one2many\" && (typeof self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type !== \"object\" || ρσ_not_equals(self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type, \"one2many\")))) {\n                        (ρσ_expr_temp = schema.relations)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = (function(){\n                            var ρσ_d = {};\n                            ρσ_d[type] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key].relation;\n                            return ρσ_d;\n                        }).call(this);\n                    } else {\n                        (ρσ_expr_temp = schema.relations)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = (function(){\n                            var ρσ_d = {};\n                            ρσ_d[type] = (function(){\n                                var ρσ_d = {};\n                                ρσ_d[\"type\"] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key].relation;\n                                ρσ_d[\"options\"] = (function(){\n                                    var ρσ_d = {};\n                                    ρσ_d[\"queryInverse\"] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key].inverse;\n                                    return ρσ_d;\n                                }).call(this);\n                                return ρσ_d;\n                            }).call(this);\n                            return ρσ_d;\n                        }).call(this);\n                    }\n                }\n                (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key];\n                if (self._is_singleton) {\n                    if (!empty((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related)) {\n                        if (empty((ρσ_expr_temp = self._related)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)])) {\n                            (ρσ_expr_temp = self._related)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)] = ρσ_list_decorate([]);\n                        }\n                        (ρσ_expr_temp = self._related)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)].push(key);\n                    }\n                    (ρσ_expr_temp = self._values)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].default;\n                    Object.defineProperty(self, key, {\n               get: function() {return self._values[key]},\n               set: function(value) {self._values[key] = self.adapt(key, value)},\n               });\n                }\n            }\n            db.setSchema(ρσ_list_decorate([ schema ]));\n        };\n        if (!Model.prototype.__init__.__defaults__) Object.defineProperties(Model.prototype.__init__, {\n            __defaults__ : {value: {_is_env:false, _is_singleton:true}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"_is_env\", \"_is_singleton\"]}\n        });\n        Model.__argnames__ = Model.prototype.__init__.__argnames__;\n        Model.__handles_kwarg_interpolation__ = Model.prototype.__init__.__handles_kwarg_interpolation__;\n        Model.prototype.browse = function browse() {\n            var self = this;\n            var ids = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? browse.__defaults__.ids : arguments[0];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"ids\")){\n                ids = ρσ_kwargs_obj.ids;\n            }\n            if (empty(ids)) {\n                return new self.constructor();\n            } else if ((ids.constructor === String || typeof ids.constructor === \"object\" && ρσ_equals(ids.constructor, String))) {\n                self = self.browse();\n                db.get(ids).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        self.id = ids;\n                        self._values = record;\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else if ((ids.constructor === Array || typeof ids.constructor === \"object\" && ρσ_equals(ids.constructor, Array))) {\n                var self = new self.constructor(false, false);\n                db.rel.find(self._name, ids).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        self.ids = ids;\n                        self._values = record[ρσ_bound_index(self._name, record)];\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            }\n            return self;\n        };\n        if (!Model.prototype.browse.__defaults__) Object.defineProperties(Model.prototype.browse, {\n            __defaults__ : {value: {ids:false}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"ids\"]}\n        });\n        Model.prototype.search = function search() {\n            var self = this;\n            var options = arguments[arguments.length-1];\n            if (options === null || typeof options !== \"object\" || options [ρσ_kwargs_symbol] !== true) options = {};\n            var args = Array.prototype.slice.call(arguments, 0);\n            if (options !== null && typeof options === \"object\" && options [ρσ_kwargs_symbol] === true) args.pop();\n            function query(record) {\n                var results, arg;\n                results = ρσ_list_decorate([]);\n                var ρσ_Iter1 = ρσ_Iterable(args);\n                for (var ρσ_Index1 = 0; ρσ_Index1 < ρσ_Iter1.length; ρσ_Index1++) {\n                    arg = ρσ_Iter1[ρσ_Index1];\n                    if ((arg === \"|\" || typeof arg === \"object\" && ρσ_equals(arg, \"|\"))) {\n                        continue;\n                    }\n                    if ((arg[1] === \"=\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"=\"))) {\n                        results.push((record[ρσ_bound_index(arg[0], record)] === arg[2] || typeof record[ρσ_bound_index(arg[0], record)] === \"object\" && ρσ_equals(record[ρσ_bound_index(arg[0], record)], arg[2])));\n                    } else if ((arg[1] === \">\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \">\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] > arg[2]);\n                    } else if ((arg[1] === \">=\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \">=\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] >= arg[2]);\n                    } else if ((arg[1] === \"<\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"<\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] < arg[2]);\n                    } else if ((arg[1] === \"<=\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"<=\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] <= arg[2]);\n                    } else if ((arg[1] === \"in\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"in\"))) {\n                        results.push(ρσ_in(record[ρσ_bound_index(arg[0], record)], arg[2]));\n                    }\n                }\n                if (empty(args)) {\n                    return true;\n                } else if ((args[0] === \"|\" || typeof args[0] === \"object\" && ρσ_equals(args[0], \"|\"))) {\n                    return results.some((function() {\n                        var ρσ_anonfunc = function (result) {\n                            return (result === true || typeof result === \"object\" && ρσ_equals(result, true));\n                        };\n                        if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                            __argnames__ : {value: [\"result\"]}\n                        });\n                        return ρσ_anonfunc;\n                    })());\n                } else {\n                    return results.every((function() {\n                        var ρσ_anonfunc = function (result) {\n                            return (result === true || typeof result === \"object\" && ρσ_equals(result, true));\n                        };\n                        if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                            __argnames__ : {value: [\"result\"]}\n                        });\n                        return ρσ_anonfunc;\n                    })());\n                }\n            };\n            if (!query.__argnames__) Object.defineProperties(query, {\n                __argnames__ : {value: [\"record\"]}\n            });\n\n            if ((options[\"limit\"] === 1 || typeof options[\"limit\"] === \"object\" && ρσ_equals(options[\"limit\"], 1))) {\n                self = self.browse();\n                db.rel.find(self._name).then((function() {\n                    var ρσ_anonfunc = function (records) {\n                        var record;\n                        record = records[ρσ_bound_index(self._name, records)].find(query);\n                        self.id = record.id;\n                        self._values = record;\n                        console.log(self);\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"records\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else {\n                var self = new self.constructor(false, false);\n                db.rel.find(self._name).then((function() {\n                    var ρσ_anonfunc = function (records) {\n                        var value;\n                        self._values = records[ρσ_bound_index(self._name, records)].filter(query);\n                        self.ids = (function() {\n                            var ρσ_Iter = ρσ_Iterable(self._values), ρσ_Result = [], value;\n                            for (var ρσ_Index = 0; ρσ_Index < ρσ_Iter.length; ρσ_Index++) {\n                                value = ρσ_Iter[ρσ_Index];\n                                ρσ_Result.push(value.id);\n                            }\n                            ρσ_Result = ρσ_list_constructor(ρσ_Result);\n                            return ρσ_Result;\n                        })();\n                        console.log(self);\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"records\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            }\n            return self;\n        };\n        if (!Model.prototype.search.__handles_kwarg_interpolation__) Object.defineProperties(Model.prototype.search, {\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: []}\n        });\n        Model.prototype.read = function read() {\n            var self = this;\n            if (self._is_env) {\n                return {};\n            }\n            return self._values;\n        };\n        if (!Model.prototype.read.__argnames__) Object.defineProperties(Model.prototype.read, {\n            __argnames__ : {value: []}\n        });\n        Model.prototype.adapt = function adapt(key, value) {\n            var self = this;\n            var field;\n            if (self._is_env) {\n                return;\n            }\n            if (ρσ_in((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, ρσ_list_decorate([ \"char\", \"text\" ]))) {\n                value = new String(value);\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"integer\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"integer\"))) {\n                value = parseInt(value);\n                if (isNaN(value)) {\n                    return new Exception(\"Not a valid Number\");\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"float\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"float\"))) {\n                value = parseFloat(value);\n                if (isNaN(value)) {\n                    return new Exception(\"Not a valid Number\");\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"boolean\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"boolean\"))) {\n                if (ρσ_in(value, ρσ_list_decorate([ \"true\", \"True\" ]))) {\n                    value = true;\n                } else if (ρσ_in(value, ρσ_list_decorate([ \"false\", \"False\" ]))) {\n                    value = false;\n                } else if (ρσ_equals(type(value), String)) {\n                    return new Exception(\"Not a valid Boolean\");\n                } else {\n                    value = Boolean(value);\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"binary\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"binary\"))) {\n                if (!checkBase64(value)) {\n                    return new Exception(\"Not a valid base64\");\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"selection\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"selection\"))) {\n                if (ρσ_in(!value, dict((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].selection))) {\n                    return new Exception(\"Incorrect value\");\n                }\n            }\n            if ((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].store) {\n                if (!empty((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related)) {\n                    (ρσ_expr_temp = self._values)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)] = value;\n                }\n                if (!empty((ρσ_expr_temp = self._related)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key])) {\n                    var ρσ_Iter2 = ρσ_Iterable((ρσ_expr_temp = self._related)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key]);\n                    for (var ρσ_Index2 = 0; ρσ_Index2 < ρσ_Iter2.length; ρσ_Index2++) {\n                        field = ρσ_Iter2[ρσ_Index2];\n                        (ρσ_expr_temp = self._values)[(typeof field === \"number\" && field < 0) ? ρσ_expr_temp.length + field : field] = value;\n                    }\n                }\n            }\n            return value;\n        };\n        if (!Model.prototype.adapt.__argnames__) Object.defineProperties(Model.prototype.adapt, {\n            __argnames__ : {value: [\"key\", \"value\"]}\n        });\n        Model.prototype.update = function update(values) {\n            var self = this;\n            var value, object, key;\n            if (self._is_env) {\n                return;\n            }\n            var ρσ_Iter3 = ρσ_Iterable(keys(values));\n            for (var ρσ_Index3 = 0; ρσ_Index3 < ρσ_Iter3.length; ρσ_Index3++) {\n                key = ρσ_Iter3[ρσ_Index3];\n                value = self.adapt(key, values[(typeof key === \"number\" && key < 0) ? values.length + key : key]);\n                if (self._is_singleton) {\n                    (ρσ_expr_temp = self._values)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = value;\n                } else {\n                    var ρσ_Iter4 = ρσ_Iterable(self._values);\n                    for (var ρσ_Index4 = 0; ρσ_Index4 < ρσ_Iter4.length; ρσ_Index4++) {\n                        object = ρσ_Iter4[ρσ_Index4];\n                        object[(typeof key === \"number\" && key < 0) ? object.length + key : key] = value;\n                    }\n                }\n            }\n        };\n        if (!Model.prototype.update.__argnames__) Object.defineProperties(Model.prototype.update, {\n            __argnames__ : {value: [\"values\"]}\n        });\n        Model.prototype.create = function create() {\n            var self = this;\n            var values = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? create.__defaults__.values : arguments[0];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"values\")){\n                values = ρσ_kwargs_obj.values;\n            }\n            if (empty(values)) {\n                values = self.read();\n            } else {\n                merge(self.read(), values);\n            }\n            if (self._is_env) {\n                self = self.browse();\n                self.update(values);\n            }\n            ρσ_delitem(values, \"id\");\n            db.rel.save(self._name, values).then((function() {\n                var ρσ_anonfunc = function (record) {\n                    self.id = record[ρσ_bound_index(self._name, record)][0].id;\n                };\n                if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                    __argnames__ : {value: [\"record\"]}\n                });\n                return ρσ_anonfunc;\n            })());\n            return self;\n        };\n        if (!Model.prototype.create.__defaults__) Object.defineProperties(Model.prototype.create, {\n            __defaults__ : {value: {values:false}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"values\"]}\n        });\n        Model.prototype.write = function write() {\n            var self = this;\n            var values = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? write.__defaults__.values : arguments[0];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"values\")){\n                values = ρσ_kwargs_obj.values;\n            }\n            if (empty(self.id) && empty(self.ids)) {\n                return;\n            }\n            if (empty(values)) {\n                if (!self._is_singleton) {\n                    return;\n                }\n                values = self.read();\n            } else {\n                self.update(values);\n                values = self.read();\n            }\n            if (self._is_singleton) {\n                db.get(self.id).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        return db.put(merge((function(){\n                            var ρσ_d = {};\n                            ρσ_d[\"_id\"] = record._id;\n                            ρσ_d[\"_rev\"] = record._rev;\n                            return ρσ_d;\n                        }).call(this), values));\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else {\n                db.bulkDocs(values).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        self._values = record;\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            }\n            return self;\n        };\n        if (!Model.prototype.write.__defaults__) Object.defineProperties(Model.prototype.write, {\n            __defaults__ : {value: {values:false}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"values\"]}\n        });\n        Model.prototype.unlink = function unlink() {\n            var self = this;\n            var value;\n            if (empty(self.id) && empty(self.ids)) {\n                return;\n            }\n            if (self._is_singleton) {\n                db.get(self.id).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        db.remove(record);\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else {\n                var ρσ_Iter5 = ρσ_Iterable(self._values);\n                for (var ρσ_Index5 = 0; ρσ_Index5 < ρσ_Iter5.length; ρσ_Index5++) {\n                    value = ρσ_Iter5[ρσ_Index5];\n                    value[\"_deleted\"] = true;\n                }\n                db.bulkDocs(self._values);\n            }\n            return true;\n        };\n        if (!Model.prototype.unlink.__argnames__) Object.defineProperties(Model.prototype.unlink, {\n            __argnames__ : {value: []}\n        });\n        Model.prototype.__repr__ = function __repr__ () {\n                        return \"<\" + __name__ + \".\" + this.constructor.name + \" #\" + this.ρσ_object_id + \">\";\n        };\n        Model.prototype.__str__ = function __str__ () {\n            return this.__repr__();\n        };\n        Object.defineProperty(Model.prototype, \"__bases__\", {value: []});\n        Model.prototype._name = \"undefined\";\n        Model.prototype._inherit = false;\n        Model.prototype._fields = {};\n        Model.prototype._values = {};\n        Model.prototype._related = {};\n\n        ρσ_modules[\"orm.models\"].env = env;\n        ρσ_modules[\"orm.models\"].Model = Model;\n",
		"beautify:true keep_docstrings:false js_version:6": "        var env;\n        var fields = ρσ_modules[\"orm.fields\"];\n\n        var keys = ρσ_modules[\"orm.tools\"].keys;\n        var dict = ρσ_modules[\"orm.tools\"].dict;\n        var checkBase64 = ρσ_modules[\"orm.tools\"].checkBase64;\n        var empty = ρσ_modules[\"orm.tools\"].empty;\n\n        var db = ρσ_modules[\"orm.pouchdb\"].db;\n\n        env = {};\n        function Model() {\n            if (this.ρσ_object_id === undefined) Object.defineProperty(this, \"ρσ_object_id\", {\"value\":++ρσ_object_counter});\n            Model.prototype.__init__.apply(this, arguments);\n        }\n        Model.prototype.__init__ = function __init__() {\n            var self = this;\n            var _is_env = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__._is_env : arguments[0];\n            var _is_singleton = (arguments[1] === undefined || ( 1 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__._is_singleton : arguments[1];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"_is_env\")){\n                _is_env = ρσ_kwargs_obj._is_env;\n            }\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"_is_singleton\")){\n                _is_singleton = ρσ_kwargs_obj._is_singleton;\n            }\n            var schema, type, key;\n            self._is_env = _is_env;\n            self._is_singleton = _is_singleton;\n            if (empty(env[ρσ_bound_index(self._name, env)])) {\n                env[ρσ_bound_index(self._name, env)] = true;\n                env[self._name] = new self.constructor(_is_env=true);\n                env[ρσ_bound_index(self._name, env)]._is_env = true;\n            }\n            if (self._is_env) {\n                return;\n            }\n            self.env = env;\n            schema = (function(){\n                var ρσ_d = {};\n                ρσ_d[\"singular\"] = self._name;\n                ρσ_d[\"plural\"] = self._name;\n                return ρσ_d;\n            }).call(this);\n            if (self._is_singleton) {\n                self.id = null;\n                self._fields[\"id\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"ID\", related: \"_id\", store: true})]);\n                self._id = null;\n                self._fields[\"_id\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"ID (Raw)\"})]);\n                self.rev = null;\n                self._fields[\"rev\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"DB Revision Number\", related: \"_rev\", store: true})]);\n                self._rev = null;\n                self._fields[\"_rev\"] = ρσ_interpolate_kwargs.call(fields, fields.Char, [ρσ_desugar_kwargs({string: \"DB Revision Number\"})]);\n            } else {\n                self.ids = ρσ_list_decorate([]);\n                self._fields[\"ids\"] = ρσ_interpolate_kwargs.call(fields, fields.Data, [ρσ_desugar_kwargs({string: \"IDs\"})]);\n            }\n            var ρσ_Iter0 = (function() {\n                var ρσ_Iter = Object.getOwnPropertyNames(self.constructor.prototype), ρσ_Result = [], key;\n                ρσ_Iter = ((typeof ρσ_Iter[Symbol.iterator] === \"function\") ? (ρσ_Iter instanceof Map ? ρσ_Iter.keys() : ρσ_Iter) : Object.keys(ρσ_Iter));\n                for (var ρσ_Index of ρσ_Iter) {\n                    key = ρσ_Index;\n                    if ((key[0] !== \"_\" && (typeof key[0] !== \"object\" || ρσ_not_equals(key[0], \"_\"))) && !(ρσ_in(key, ρσ_list_decorate([ \"constructor\", \"env\" ])))) {\n                        ρσ_Result.push(key);\n                    }\n                }\n                ρσ_Result = ρσ_list_constructor(ρσ_Result);\n                return ρσ_Result;\n            })();\n            ρσ_Iter0 = ((typeof ρσ_Iter0[Symbol.iterator] === \"function\") ? (ρσ_Iter0 instanceof Map ? ρσ_Iter0.keys() : ρσ_Iter0) : Object.keys(ρσ_Iter0));\n            for (var ρσ_Index0 of ρσ_Iter0) {\n                key = ρσ_Index0;\n                if (ρσ_in(self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type, ρσ_list_decorate([ \"many2one\", \"one2many\", \"many2many\", \"one2one\" ]))) {\n                    if (!schema.relations) {\n                        schema.relations = {};\n                    }\n                    type = \"belongsTo\";\n                    if (ρσ_in(self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type, ρσ_list_decorate([ \"one2many\", \"many2many\" ]))) {\n                        type = \"hasMany\";\n                    }\n                    if ((self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type !== \"one2many\" && (typeof self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type !== \"object\" || ρσ_not_equals(self[(typeof key === \"number\" && key < 0) ? self.length + key : key].type, \"one2many\")))) {\n                        (ρσ_expr_temp = schema.relations)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = (function(){\n                            var ρσ_d = {};\n                            ρσ_d[type] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key].relation;\n                            return ρσ_d;\n                        }).call(this);\n                    } else {\n                        (ρσ_expr_temp = schema.relations)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = (function(){\n                            var ρσ_d = {};\n                            ρσ_d[type] = (function(){\n                                var ρσ_d = {};\n                                ρσ_d[\"type\"] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key].relation;\n                                ρσ_d[\"options\"] = (function(){\n                                    var ρσ_d = {};\n                                    ρσ_d[\"queryInverse\"] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key].inverse;\n                                    return ρσ_d;\n                                }).call(this);\n                                return ρσ_d;\n                            }).call(this);\n                            return ρσ_d;\n                        }).call(this);\n                    }\n                }\n                (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = self[(typeof key === \"number\" && key < 0) ? self.length + key : key];\n                if (self._is_singleton) {\n                    if (!empty((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related)) {\n                        if (empty((ρσ_expr_temp = self._related)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)])) {\n                            (ρσ_expr_temp = self._related)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)] = ρσ_list_decorate([]);\n                        }\n                        (ρσ_expr_temp = self._related)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)].push(key);\n                    }\n                    (ρσ_expr_temp = self._values)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].default;\n                    Object.defineProperty(self, key, {\n               get: function() {return self._values[key]},\n               set: function(value) {self._values[key] = self.adapt(key, value)},\n               });\n                }\n            }\n            db.setSchema(ρσ_list_decorate([ schema ]));\n        };\n        if (!Model.prototype.__init__.__defaults__) Object.defineProperties(Model.prototype.__init__, {\n            __defaults__ : {value: {_is_env:false, _is_singleton:true}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"_is_env\", \"_is_singleton\"]}\n        });\n        Model.__argnames__ = Model.prototype.__init__.__argnames__;\n        Model.__handles_kwarg_interpolation__ = Model.prototype.__init__.__handles_kwarg_interpolation__;\n        Model.prototype.browse = function browse() {\n            var self = this;\n            var ids = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? browse.__defaults__.ids : arguments[0];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"ids\")){\n                ids = ρσ_kwargs_obj.ids;\n            }\n            if (empty(ids)) {\n                return new self.constructor();\n            } else if ((ids.constructor === String || typeof ids.constructor === \"object\" && ρσ_equals(ids.constructor, String))) {\n                self = self.browse();\n                db.get(ids).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        self.id = ids;\n                        self._values = record;\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else if ((ids.constructor === Array || typeof ids.constructor === \"object\" && ρσ_equals(ids.constructor, Array))) {\n                var self = new self.constructor(false, false);\n                db.rel.find(self._name, ids).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        self.ids = ids;\n                        self._values = record[ρσ_bound_index(self._name, record)];\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            }\n            return self;\n        };\n        if (!Model.prototype.browse.__defaults__) Object.defineProperties(Model.prototype.browse, {\n            __defaults__ : {value: {ids:false}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"ids\"]}\n        });\n        Model.prototype.search = function search() {\n            var self = this;\n            var options = arguments[arguments.length-1];\n            if (options === null || typeof options !== \"object\" || options [ρσ_kwargs_symbol] !== true) options = {};\n            var args = Array.prototype.slice.call(arguments, 0);\n            if (options !== null && typeof options === \"object\" && options [ρσ_kwargs_symbol] === true) args.pop();\n            function query(record) {\n                var results, arg;\n                results = ρσ_list_decorate([]);\n                var ρσ_Iter1 = args;\n                ρσ_Iter1 = ((typeof ρσ_Iter1[Symbol.iterator] === \"function\") ? (ρσ_Iter1 instanceof Map ? ρσ_Iter1.keys() : ρσ_Iter1) : Object.keys(ρσ_Iter1));\n                for (var ρσ_Index1 of ρσ_Iter1) {\n                    arg = ρσ_Index1;\n                    if ((arg === \"|\" || typeof arg === \"object\" && ρσ_equals(arg, \"|\"))) {\n                        continue;\n                    }\n                    if ((arg[1] === \"=\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"=\"))) {\n                        results.push((record[ρσ_bound_index(arg[0], record)] === arg[2] || typeof record[ρσ_bound_index(arg[0], record)] === \"object\" && ρσ_equals(record[ρσ_bound_index(arg[0], record)], arg[2])));\n                    } else if ((arg[1] === \">\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \">\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] > arg[2]);\n                    } else if ((arg[1] === \">=\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \">=\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] >= arg[2]);\n                    } else if ((arg[1] === \"<\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"<\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] < arg[2]);\n                    } else if ((arg[1] === \"<=\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"<=\"))) {\n                        results.push(record[ρσ_bound_index(arg[0], record)] <= arg[2]);\n                    } else if ((arg[1] === \"in\" || typeof arg[1] === \"object\" && ρσ_equals(arg[1], \"in\"))) {\n                        results.push(ρσ_in(record[ρσ_bound_index(arg[0], record)], arg[2]));\n                    }\n                }\n                if (empty(args)) {\n                    return true;\n                } else if ((args[0] === \"|\" || typeof args[0] === \"object\" && ρσ_equals(args[0], \"|\"))) {\n                    return results.some((function() {\n                        var ρσ_anonfunc = function (result) {\n                            return (result === true || typeof result === \"object\" && ρσ_equals(result, true));\n                        };\n                        if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                            __argnames__ : {value: [\"result\"]}\n                        });\n                        return ρσ_anonfunc;\n                    })());\n                } else {\n                    return results.every((function() {\n                        var ρσ_anonfunc = function (result) {\n                            return (result === true || typeof result === \"object\" && ρσ_equals(result, true));\n                        };\n                        if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                            __argnames__ : {value: [\"result\"]}\n                        });\n                        return ρσ_anonfunc;\n                    })());\n                }\n            };\n            if (!query.__argnames__) Object.defineProperties(query, {\n                __argnames__ : {value: [\"record\"]}\n            });\n\n            if ((options[\"limit\"] === 1 || typeof options[\"limit\"] === \"object\" && ρσ_equals(options[\"limit\"], 1))) {\n                self = self.browse();\n                db.rel.find(self._name).then((function() {\n                    var ρσ_anonfunc = function (records) {\n                        var record;\n                        record = records[ρσ_bound_index(self._name, records)].find(query);\n                        self.id = record.id;\n                        self._values = record;\n                        console.log(self);\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"records\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else {\n                var self = new self.constructor(false, false);\n                db.rel.find(self._name).then((function() {\n                    var ρσ_anonfunc = function (records) {\n                        var value;\n                        self._values = records[ρσ_bound_index(self._name, records)].filter(query);\n                        self.ids = (function() {\n                            var ρσ_Iter = self._values, ρσ_Result = [], value;\n                            ρσ_Iter = ((typeof ρσ_Iter[Symbol.iterator] === \"function\") ? (ρσ_Iter instanceof Map ? ρσ_Iter.keys() : ρσ_Iter) : Object.keys(ρσ_Iter));\n                            for (var ρσ_Index of ρσ_Iter) {\n                                value = ρσ_Index;\n                                ρσ_Result.push(value.id);\n                            }\n                            ρσ_Result = ρσ_list_constructor(ρσ_Result);\n                            return ρσ_Result;\n                        })();\n                        console.log(self);\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"records\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            }\n            return self;\n        };\n        if (!Model.prototype.search.__handles_kwarg_interpolation__) Object.defineProperties(Model.prototype.search, {\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: []}\n        });\n        Model.prototype.read = function read() {\n            var self = this;\n            if (self._is_env) {\n                return {};\n            }\n            return self._values;\n        };\n        if (!Model.prototype.read.__argnames__) Object.defineProperties(Model.prototype.read, {\n            __argnames__ : {value: []}\n        });\n        Model.prototype.adapt = function adapt(key, value) {\n            var self = this;\n            var field;\n            if (self._is_env) {\n                return;\n            }\n            if (ρσ_in((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, ρσ_list_decorate([ \"char\", \"text\" ]))) {\n                value = new String(value);\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"integer\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"integer\"))) {\n                value = parseInt(value);\n                if (isNaN(value)) {\n                    return new Exception(\"Not a valid Number\");\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"float\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"float\"))) {\n                value = parseFloat(value);\n                if (isNaN(value)) {\n                    return new Exception(\"Not a valid Number\");\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"boolean\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"boolean\"))) {\n                if (ρσ_in(value, ρσ_list_decorate([ \"true\", \"True\" ]))) {\n                    value = true;\n                } else if (ρσ_in(value, ρσ_list_decorate([ \"false\", \"False\" ]))) {\n                    value = false;\n                } else if (ρσ_equals(type(value), String)) {\n                    return new Exception(\"Not a valid Boolean\");\n                } else {\n                    value = Boolean(value);\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"binary\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"binary\"))) {\n                if (!checkBase64(value)) {\n                    return new Exception(\"Not a valid base64\");\n                }\n            } else if (((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"selection\" || typeof (ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type === \"object\" && ρσ_equals((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].type, \"selection\"))) {\n                if (ρσ_in(!value, dict((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].selection))) {\n                    return new Exception(\"Incorrect value\");\n                }\n            }\n            if ((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].store) {\n                if (!empty((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related)) {\n                    (ρσ_expr_temp = self._values)[ρσ_bound_index((ρσ_expr_temp = self._fields)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key].related, ρσ_expr_temp)] = value;\n                }\n                if (!empty((ρσ_expr_temp = self._related)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key])) {\n                    var ρσ_Iter2 = (ρσ_expr_temp = self._related)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key];\n                    ρσ_Iter2 = ((typeof ρσ_Iter2[Symbol.iterator] === \"function\") ? (ρσ_Iter2 instanceof Map ? ρσ_Iter2.keys() : ρσ_Iter2) : Object.keys(ρσ_Iter2));\n                    for (var ρσ_Index2 of ρσ_Iter2) {\n                        field = ρσ_Index2;\n                        (ρσ_expr_temp = self._values)[(typeof field === \"number\" && field < 0) ? ρσ_expr_temp.length + field : field] = value;\n                    }\n                }\n            }\n            return value;\n        };\n        if (!Model.prototype.adapt.__argnames__) Object.defineProperties(Model.prototype.adapt, {\n            __argnames__ : {value: [\"key\", \"value\"]}\n        });\n        Model.prototype.update = function update(values) {\n            var self = this;\n            var value, object, key;\n            if (self._is_env) {\n                return;\n            }\n            var ρσ_Iter3 = keys(values);\n            ρσ_Iter3 = ((typeof ρσ_Iter3[Symbol.iterator] === \"function\") ? (ρσ_Iter3 instanceof Map ? ρσ_Iter3.keys() : ρσ_Iter3) : Object.keys(ρσ_Iter3));\n            for (var ρσ_Index3 of ρσ_Iter3) {\n                key = ρσ_Index3;\n                value = self.adapt(key, values[(typeof key === \"number\" && key < 0) ? values.length + key : key]);\n                if (self._is_singleton) {\n                    (ρσ_expr_temp = self._values)[(typeof key === \"number\" && key < 0) ? ρσ_expr_temp.length + key : key] = value;\n                } else {\n                    var ρσ_Iter4 = self._values;\n                    ρσ_Iter4 = ((typeof ρσ_Iter4[Symbol.iterator] === \"function\") ? (ρσ_Iter4 instanceof Map ? ρσ_Iter4.keys() : ρσ_Iter4) : Object.keys(ρσ_Iter4));\n                    for (var ρσ_Index4 of ρσ_Iter4) {\n                        object = ρσ_Index4;\n                        object[(typeof key === \"number\" && key < 0) ? object.length + key : key] = value;\n                    }\n                }\n            }\n        };\n        if (!Model.prototype.update.__argnames__) Object.defineProperties(Model.prototype.update, {\n            __argnames__ : {value: [\"values\"]}\n        });\n        Model.prototype.create = function create() {\n            var self = this;\n            var values = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? create.__defaults__.values : arguments[0];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"values\")){\n                values = ρσ_kwargs_obj.values;\n            }\n            if (empty(values)) {\n                values = self.read();\n            } else {\n                merge(self.read(), values);\n            }\n            if (self._is_env) {\n                self = self.browse();\n                self.update(values);\n            }\n            ρσ_delitem(values, \"id\");\n            db.rel.save(self._name, values).then((function() {\n                var ρσ_anonfunc = function (record) {\n                    self.id = record[ρσ_bound_index(self._name, record)][0].id;\n                };\n                if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                    __argnames__ : {value: [\"record\"]}\n                });\n                return ρσ_anonfunc;\n            })());\n            return self;\n        };\n        if (!Model.prototype.create.__defaults__) Object.defineProperties(Model.prototype.create, {\n            __defaults__ : {value: {values:false}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"values\"]}\n        });\n        Model.prototype.write = function write() {\n            var self = this;\n            var values = (arguments[0] === undefined || ( 0 === arguments.length-1 && arguments[arguments.length-1] !== null && typeof arguments[arguments.length-1] === \"object\" && arguments[arguments.length-1] [ρσ_kwargs_symbol] === true)) ? write.__defaults__.values : arguments[0];\n            var ρσ_kwargs_obj = arguments[arguments.length-1];\n            if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== \"object\" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};\n            if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, \"values\")){\n                values = ρσ_kwargs_obj.values;\n            }\n            if (empty(self.id) && empty(self.ids)) {\n                return;\n            }\n            if (empty(values)) {\n                if (!self._is_singleton) {\n                    return;\n                }\n                values = self.read();\n            } else {\n                self.update(values);\n                values = self.read();\n            }\n            if (self._is_singleton) {\n                db.get(self.id).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        return db.put(merge((function(){\n                            var ρσ_d = {};\n                            ρσ_d[\"_id\"] = record._id;\n                            ρσ_d[\"_rev\"] = record._rev;\n                            return ρσ_d;\n                        }).call(this), values));\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else {\n                db.bulkDocs(values).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        self._values = record;\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            }\n            return self;\n        };\n        if (!Model.prototype.write.__defaults__) Object.defineProperties(Model.prototype.write, {\n            __defaults__ : {value: {values:false}},\n            __handles_kwarg_interpolation__ : {value: true},\n            __argnames__ : {value: [\"values\"]}\n        });\n        Model.prototype.unlink = function unlink() {\n            var self = this;\n            var value;\n            if (empty(self.id) && empty(self.ids)) {\n                return;\n            }\n            if (self._is_singleton) {\n                db.get(self.id).then((function() {\n                    var ρσ_anonfunc = function (record) {\n                        db.remove(record);\n                    };\n                    if (!ρσ_anonfunc.__argnames__) Object.defineProperties(ρσ_anonfunc, {\n                        __argnames__ : {value: [\"record\"]}\n                    });\n                    return ρσ_anonfunc;\n                })());\n            } else {\n                var ρσ_Iter5 = self._values;\n                ρσ_Iter5 = ((typeof ρσ_Iter5[Symbol.iterator] === \"function\") ? (ρσ_Iter5 instanceof Map ? ρσ_Iter5.keys() : ρσ_Iter5) : Object.keys(ρσ_Iter5));\n                for (var ρσ_Index5 of ρσ_Iter5) {\n                    value = ρσ_Index5;\n                    value[\"_deleted\"] = true;\n                }\n                db.bulkDocs(self._values);\n            }\n            return true;\n        };\n        if (!Model.prototype.unlink.__argnames__) Object.defineProperties(Model.prototype.unlink, {\n            __argnames__ : {value: []}\n        });\n        Model.prototype.__repr__ = function __repr__ () {\n                        return \"<\" + __name__ + \".\" + this.constructor.name + \" #\" + this.ρσ_object_id + \">\";\n        };\n        Model.prototype.__str__ = function __str__ () {\n            return this.__repr__();\n        };\n        Object.defineProperty(Model.prototype, \"__bases__\", {value: []});\n        Model.prototype._name = \"undefined\";\n        Model.prototype._inherit = false;\n        Model.prototype._fields = {};\n        Model.prototype._values = {};\n        Model.prototype._related = {};\n\n        ρσ_modules[\"orm.models\"].env = env;\n        ρσ_modules[\"orm.models\"].Model = Model;\n",
		"beautify:false keep_docstrings:true js_version:5": "var env;var fields=ρσ_modules[\"orm.fields\"];var keys=ρσ_modules[\"orm.tools\"].keys;var dict=ρσ_modules[\"orm.tools\"].dict;var checkBase64=ρσ_modules[\"orm.tools\"].checkBase64;var empty=ρσ_modules[\"orm.tools\"].empty;var db=ρσ_modules[\"orm.pouchdb\"].db;env={};function Model(){if(this.ρσ_object_id===undefined)Object.defineProperty(this,\"ρσ_object_id\",{\"value\":++ρσ_object_counter});Model.prototype.__init__.apply(this,arguments)}Model.prototype.__init__=function __init__(){var self=this;var _is_env=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?__init__.__defaults__._is_env:arguments[0];var _is_singleton=(arguments[1]===undefined||(1===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?__init__.__defaults__._is_singleton:arguments[1];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"_is_env\")){_is_env=ρσ_kwargs_obj._is_env}if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"_is_singleton\")){_is_singleton=ρσ_kwargs_obj._is_singleton}var schema,type,key;self._is_env=_is_env;self._is_singleton=_is_singleton;if(empty(env[ρσ_bound_index(self._name,env)])){env[ρσ_bound_index(self._name,env)]=true;env[self._name] = new self.constructor(_is_env=true);env[ρσ_bound_index(self._name,env)]._is_env=true}if(self._is_env){return}self.env=env;schema=(function(){var ρσ_d={};ρσ_d[\"singular\"]=self._name;ρσ_d[\"plural\"]=self._name;return ρσ_d}).call(this);if(self._is_singleton){self.id=null;self._fields[\"id\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"ID\",related:\"_id\",store:true})]);self._id=null;self._fields[\"_id\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"ID (Raw)\"})]);self.rev=null;self._fields[\"rev\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"DB Revision Number\",related:\"_rev\",store:true})]);self._rev=null;self._fields[\"_rev\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"DB Revision Number\"})])}else{self.ids=ρσ_list_decorate([]);self._fields[\"ids\"]=ρσ_interpolate_kwargs.call(fields,fields.Data,[ρσ_desugar_kwargs({string:\"IDs\"})])}var ρσ_Iter0=ρσ_Iterable((function(){var ρσ_Iter=ρσ_Iterable(Object.getOwnPropertyNames(self.constructor.prototype)),ρσ_Result=[],key;for(var ρσ_Index=0;ρσ_Index<ρσ_Iter.length;ρσ_Index++){key=ρσ_Iter[ρσ_Index];if((key[0]!==\"_\"&&(typeof key[0]!==\"object\"||ρσ_not_equals(key[0],\"_\")))&&!(ρσ_in(key,ρσ_list_decorate([\"constructor\",\"env\"])))){ρσ_Result.push(key)}}ρσ_Result=ρσ_list_constructor(ρσ_Result);return ρσ_Result})());for(var ρσ_Index0=0;ρσ_Index0<ρσ_Iter0.length;ρσ_Index0++){key=ρσ_Iter0[ρσ_Index0];if(ρσ_in(self[(typeof key===\"number\"&&key<0)?self.length+key:key].type,ρσ_list_decorate([\"many2one\",\"one2many\",\"many2many\",\"one2one\"]))){if(!schema.relations){schema.relations={}}type=\"belongsTo\";if(ρσ_in(self[(typeof key===\"number\"&&key<0)?self.length+key:key].type,ρσ_list_decorate([\"one2many\",\"many2many\"]))){type=\"hasMany\"}if((self[(typeof key===\"number\"&&key<0)?self.length+key:key].type!==\"one2many\"&&(typeof self[(typeof key===\"number\"&&key<0)?self.length+key:key].type!==\"object\"||ρσ_not_equals(self[(typeof key===\"number\"&&key<0)?self.length+key:key].type,\"one2many\")))){(ρσ_expr_temp=schema.relations)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=(function(){var ρσ_d={};ρσ_d[type]=self[(typeof key===\"number\"&&key<0)?self.length+key:key].relation;return ρσ_d}).call(this)}else{(ρσ_expr_temp=schema.relations)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=(function(){var ρσ_d={};ρσ_d[type]=(function(){var ρσ_d={};ρσ_d[\"type\"]=self[(typeof key===\"number\"&&key<0)?self.length+key:key].relation;ρσ_d[\"options\"]=(function(){var ρσ_d={};ρσ_d[\"queryInverse\"]=self[(typeof key===\"number\"&&key<0)?self.length+key:key].inverse;return ρσ_d}).call(this);return ρσ_d}).call(this);return ρσ_d}).call(this)}}(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=self[(typeof key===\"number\"&&key<0)?self.length+key:key];if(self._is_singleton){if(!empty((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related)){if(empty((ρσ_expr_temp=self._related)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)])){(ρσ_expr_temp=self._related)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)]=ρσ_list_decorate([])}(ρσ_expr_temp=self._related)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)].push(key)}(ρσ_expr_temp=self._values)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].default;Object.defineProperty(self, key, {\n               get: function() {return self._values[key]},\n               set: function(value) {self._values[key] = self.adapt(key, value)},\n               })}}db.setSchema(ρσ_list_decorate([schema]))};if(!Model.prototype.__init__.__defaults__)Object.defineProperties(Model.prototype.__init__,{__defaults__:{value:{_is_env:false,_is_singleton:true}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"_is_env\",\"_is_singleton\"]}});Model.__argnames__=Model.prototype.__init__.__argnames__;Model.__handles_kwarg_interpolation__=Model.prototype.__init__.__handles_kwarg_interpolation__;Model.prototype.browse=function browse(){var self=this;var ids=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?browse.__defaults__.ids:arguments[0];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"ids\")){ids=ρσ_kwargs_obj.ids}if(empty(ids)){return new self.constructor()}else if((ids.constructor===String||typeof ids.constructor===\"object\"&&ρσ_equals(ids.constructor,String))){self=self.browse();db.get(ids).then((function(){var ρσ_anonfunc=function(record){self.id=ids;self._values=record};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}else if((ids.constructor===Array||typeof ids.constructor===\"object\"&&ρσ_equals(ids.constructor,Array))){var self = new self.constructor(false, false);db.rel.find(self._name,ids).then((function(){var ρσ_anonfunc=function(record){self.ids=ids;self._values=record[ρσ_bound_index(self._name,record)]};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}return self};if(!Model.prototype.browse.__defaults__)Object.defineProperties(Model.prototype.browse,{__defaults__:{value:{ids:false}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"ids\"]}});Model.prototype.search=function search(){var self=this;var options=arguments[arguments.length-1];if(options===null||typeof options!==\"object\"||options[ρσ_kwargs_symbol]!==true)options={};var args=Array.prototype.slice.call(arguments,0);if(options!==null&&typeof options===\"object\"&&options[ρσ_kwargs_symbol]===true)args.pop();function query(record){var results,arg;results=ρσ_list_decorate([]);var ρσ_Iter1=ρσ_Iterable(args);for(var ρσ_Index1=0;ρσ_Index1<ρσ_Iter1.length;ρσ_Index1++){arg=ρσ_Iter1[ρσ_Index1];if((arg===\"|\"||typeof arg===\"object\"&&ρσ_equals(arg,\"|\"))){continue}if((arg[1]===\"=\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"=\"))){results.push((record[ρσ_bound_index(arg[0],record)]===arg[2]||typeof record[ρσ_bound_index(arg[0],record)]===\"object\"&&ρσ_equals(record[ρσ_bound_index(arg[0],record)],arg[2])))}else if((arg[1]===\">\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\">\"))){results.push(record[ρσ_bound_index(arg[0],record)]>arg[2])}else if((arg[1]===\">=\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\">=\"))){results.push(record[ρσ_bound_index(arg[0],record)]>=arg[2])}else if((arg[1]===\"<\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"<\"))){results.push(record[ρσ_bound_index(arg[0],record)]<arg[2])}else if((arg[1]===\"<=\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"<=\"))){results.push(record[ρσ_bound_index(arg[0],record)]<=arg[2])}else if((arg[1]===\"in\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"in\"))){results.push(ρσ_in(record[ρσ_bound_index(arg[0],record)],arg[2]))}}if(empty(args)){return true}else if((args[0]===\"|\"||typeof args[0]===\"object\"&&ρσ_equals(args[0],\"|\"))){return results.some((function(){var ρσ_anonfunc=function(result){return(result===true||typeof result===\"object\"&&ρσ_equals(result,true))};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"result\"]}});return ρσ_anonfunc})())}else{return results.every((function(){var ρσ_anonfunc=function(result){return(result===true||typeof result===\"object\"&&ρσ_equals(result,true))};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"result\"]}});return ρσ_anonfunc})())}};if(!query.__argnames__)Object.defineProperties(query,{__argnames__:{value:[\"record\"]}});if((options[\"limit\"]===1||typeof options[\"limit\"]===\"object\"&&ρσ_equals(options[\"limit\"],1))){self=self.browse();db.rel.find(self._name).then((function(){var ρσ_anonfunc=function(records){var record;record=records[ρσ_bound_index(self._name,records)].find(query);self.id=record.id;self._values=record;console.log(self)};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"records\"]}});return ρσ_anonfunc})())}else{var self = new self.constructor(false, false);db.rel.find(self._name).then((function(){var ρσ_anonfunc=function(records){var value;self._values=records[ρσ_bound_index(self._name,records)].filter(query);self.ids=(function(){var ρσ_Iter=ρσ_Iterable(self._values),ρσ_Result=[],value;for(var ρσ_Index=0;ρσ_Index<ρσ_Iter.length;ρσ_Index++){value=ρσ_Iter[ρσ_Index];ρσ_Result.push(value.id)}ρσ_Result=ρσ_list_constructor(ρσ_Result);return ρσ_Result})();console.log(self)};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"records\"]}});return ρσ_anonfunc})())}return self};if(!Model.prototype.search.__handles_kwarg_interpolation__)Object.defineProperties(Model.prototype.search,{__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[]}});Model.prototype.read=function read(){var self=this;if(self._is_env){return{}}return self._values};if(!Model.prototype.read.__argnames__)Object.defineProperties(Model.prototype.read,{__argnames__:{value:[]}});Model.prototype.adapt=function adapt(key,value){var self=this;var field;if(self._is_env){return}if(ρσ_in((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,ρσ_list_decorate([\"char\",\"text\"]))){value=new String(value)}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"integer\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"integer\"))){value=parseInt(value);if(isNaN(value)){return new Exception(\"Not a valid Number\")}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"float\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"float\"))){value=parseFloat(value);if(isNaN(value)){return new Exception(\"Not a valid Number\")}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"boolean\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"boolean\"))){if(ρσ_in(value,ρσ_list_decorate([\"true\",\"True\"]))){value=true}else if(ρσ_in(value,ρσ_list_decorate([\"false\",\"False\"]))){value=false}else if(ρσ_equals(type(value),String)){return new Exception(\"Not a valid Boolean\")}else{value=Boolean(value)}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"binary\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"binary\"))){if(!checkBase64(value)){return new Exception(\"Not a valid base64\")}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"selection\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"selection\"))){if(ρσ_in(!value,dict((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].selection))){return new Exception(\"Incorrect value\")}}if((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].store){if(!empty((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related)){(ρσ_expr_temp=self._values)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)]=value}if(!empty((ρσ_expr_temp=self._related)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key])){var ρσ_Iter2=ρσ_Iterable((ρσ_expr_temp=self._related)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]);for(var ρσ_Index2=0;ρσ_Index2<ρσ_Iter2.length;ρσ_Index2++){field=ρσ_Iter2[ρσ_Index2];(ρσ_expr_temp=self._values)[(typeof field===\"number\"&&field<0)?ρσ_expr_temp.length+field:field]=value}}}return value};if(!Model.prototype.adapt.__argnames__)Object.defineProperties(Model.prototype.adapt,{__argnames__:{value:[\"key\",\"value\"]},__doc__:{value:\"elif self._fields[key].type in ['many2one', 'one2one']:\\nif isinstance(value, models.Model):\\n   value = value.id\\nelse:\\n   value = parseInt(value)\\n   if isNaN(value):\\n      return Exception(\\\"Not a valid ID\\\")\"}});Model.prototype.update=function update(values){var self=this;var value,object,key;if(self._is_env){return}var ρσ_Iter3=ρσ_Iterable(keys(values));for(var ρσ_Index3=0;ρσ_Index3<ρσ_Iter3.length;ρσ_Index3++){key=ρσ_Iter3[ρσ_Index3];value=self.adapt(key,values[(typeof key===\"number\"&&key<0)?values.length+key:key]);if(self._is_singleton){(ρσ_expr_temp=self._values)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=value}else{var ρσ_Iter4=ρσ_Iterable(self._values);for(var ρσ_Index4=0;ρσ_Index4<ρσ_Iter4.length;ρσ_Index4++){object=ρσ_Iter4[ρσ_Index4];object[(typeof key===\"number\"&&key<0)?object.length+key:key]=value}}}};if(!Model.prototype.update.__argnames__)Object.defineProperties(Model.prototype.update,{__argnames__:{value:[\"values\"]}});Model.prototype.create=function create(){var self=this;var values=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?create.__defaults__.values:arguments[0];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"values\")){values=ρσ_kwargs_obj.values}if(empty(values)){values=self.read()}else{merge(self.read(),values)}if(self._is_env){self=self.browse();self.update(values)}ρσ_delitem(values,\"id\");db.rel.save(self._name,values).then((function(){var ρσ_anonfunc=function(record){self.id=record[ρσ_bound_index(self._name,record)][0].id};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})());return self};if(!Model.prototype.create.__defaults__)Object.defineProperties(Model.prototype.create,{__defaults__:{value:{values:false}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"values\"]}});Model.prototype.write=function write(){var self=this;var values=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?write.__defaults__.values:arguments[0];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"values\")){values=ρσ_kwargs_obj.values}if(empty(self.id)&&empty(self.ids)){return}if(empty(values)){if(!self._is_singleton){return}values=self.read()}else{self.update(values);values=self.read()}if(self._is_singleton){db.get(self.id).then((function(){var ρσ_anonfunc=function(record){return db.put(merge((function(){var ρσ_d={};ρσ_d[\"_id\"]=record._id;ρσ_d[\"_rev\"]=record._rev;return ρσ_d}).call(this),values))};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}else{db.bulkDocs(values).then((function(){var ρσ_anonfunc=function(record){self._values=record};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}return self};if(!Model.prototype.write.__defaults__)Object.defineProperties(Model.prototype.write,{__defaults__:{value:{values:false}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"values\"]}});Model.prototype.unlink=function unlink(){var self=this;var value;if(empty(self.id)&&empty(self.ids)){return}if(self._is_singleton){db.get(self.id).then((function(){var ρσ_anonfunc=function(record){db.remove(record)};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}else{var ρσ_Iter5=ρσ_Iterable(self._values);for(var ρσ_Index5=0;ρσ_Index5<ρσ_Iter5.length;ρσ_Index5++){value=ρσ_Iter5[ρσ_Index5];value[\"_deleted\"]=true}db.bulkDocs(self._values)}return true};if(!Model.prototype.unlink.__argnames__)Object.defineProperties(Model.prototype.unlink,{__argnames__:{value:[]}});Model.prototype.__repr__=function __repr__(){return\"<\"+__name__+\".\"+this.constructor.name+\" #\"+this.ρσ_object_id+\">\"};Model.prototype.__str__=function __str__(){return this.__repr__()};Object.defineProperty(Model.prototype,\"__bases__\",{value:[]});Model.prototype._name=\"undefined\";Model.prototype._inherit=false;Model.prototype._fields={};Model.prototype._values={};Model.prototype._related={};ρσ_modules[\"orm.models\"].env=env;ρσ_modules[\"orm.models\"].Model=Model",
		"beautify:false keep_docstrings:true js_version:6": "var env;var fields=ρσ_modules[\"orm.fields\"];var keys=ρσ_modules[\"orm.tools\"].keys;var dict=ρσ_modules[\"orm.tools\"].dict;var checkBase64=ρσ_modules[\"orm.tools\"].checkBase64;var empty=ρσ_modules[\"orm.tools\"].empty;var db=ρσ_modules[\"orm.pouchdb\"].db;env={};function Model(){if(this.ρσ_object_id===undefined)Object.defineProperty(this,\"ρσ_object_id\",{\"value\":++ρσ_object_counter});Model.prototype.__init__.apply(this,arguments)}Model.prototype.__init__=function __init__(){var self=this;var _is_env=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?__init__.__defaults__._is_env:arguments[0];var _is_singleton=(arguments[1]===undefined||(1===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?__init__.__defaults__._is_singleton:arguments[1];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"_is_env\")){_is_env=ρσ_kwargs_obj._is_env}if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"_is_singleton\")){_is_singleton=ρσ_kwargs_obj._is_singleton}var schema,type,key;self._is_env=_is_env;self._is_singleton=_is_singleton;if(empty(env[ρσ_bound_index(self._name,env)])){env[ρσ_bound_index(self._name,env)]=true;env[self._name] = new self.constructor(_is_env=true);env[ρσ_bound_index(self._name,env)]._is_env=true}if(self._is_env){return}self.env=env;schema=(function(){var ρσ_d={};ρσ_d[\"singular\"]=self._name;ρσ_d[\"plural\"]=self._name;return ρσ_d}).call(this);if(self._is_singleton){self.id=null;self._fields[\"id\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"ID\",related:\"_id\",store:true})]);self._id=null;self._fields[\"_id\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"ID (Raw)\"})]);self.rev=null;self._fields[\"rev\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"DB Revision Number\",related:\"_rev\",store:true})]);self._rev=null;self._fields[\"_rev\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"DB Revision Number\"})])}else{self.ids=ρσ_list_decorate([]);self._fields[\"ids\"]=ρσ_interpolate_kwargs.call(fields,fields.Data,[ρσ_desugar_kwargs({string:\"IDs\"})])}var ρσ_Iter0=(function(){var ρσ_Iter=Object.getOwnPropertyNames(self.constructor.prototype),ρσ_Result=[],key;ρσ_Iter=((typeof ρσ_Iter[Symbol.iterator]===\"function\")?(ρσ_Iter instanceof Map?ρσ_Iter.keys():ρσ_Iter):Object.keys(ρσ_Iter));for(var ρσ_Index of ρσ_Iter){key=ρσ_Index;if((key[0]!==\"_\"&&(typeof key[0]!==\"object\"||ρσ_not_equals(key[0],\"_\")))&&!(ρσ_in(key,ρσ_list_decorate([\"constructor\",\"env\"])))){ρσ_Result.push(key)}}ρσ_Result=ρσ_list_constructor(ρσ_Result);return ρσ_Result})();ρσ_Iter0=((typeof ρσ_Iter0[Symbol.iterator]===\"function\")?(ρσ_Iter0 instanceof Map?ρσ_Iter0.keys():ρσ_Iter0):Object.keys(ρσ_Iter0));for(var ρσ_Index0 of ρσ_Iter0){key=ρσ_Index0;if(ρσ_in(self[(typeof key===\"number\"&&key<0)?self.length+key:key].type,ρσ_list_decorate([\"many2one\",\"one2many\",\"many2many\",\"one2one\"]))){if(!schema.relations){schema.relations={}}type=\"belongsTo\";if(ρσ_in(self[(typeof key===\"number\"&&key<0)?self.length+key:key].type,ρσ_list_decorate([\"one2many\",\"many2many\"]))){type=\"hasMany\"}if((self[(typeof key===\"number\"&&key<0)?self.length+key:key].type!==\"one2many\"&&(typeof self[(typeof key===\"number\"&&key<0)?self.length+key:key].type!==\"object\"||ρσ_not_equals(self[(typeof key===\"number\"&&key<0)?self.length+key:key].type,\"one2many\")))){(ρσ_expr_temp=schema.relations)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=(function(){var ρσ_d={};ρσ_d[type]=self[(typeof key===\"number\"&&key<0)?self.length+key:key].relation;return ρσ_d}).call(this)}else{(ρσ_expr_temp=schema.relations)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=(function(){var ρσ_d={};ρσ_d[type]=(function(){var ρσ_d={};ρσ_d[\"type\"]=self[(typeof key===\"number\"&&key<0)?self.length+key:key].relation;ρσ_d[\"options\"]=(function(){var ρσ_d={};ρσ_d[\"queryInverse\"]=self[(typeof key===\"number\"&&key<0)?self.length+key:key].inverse;return ρσ_d}).call(this);return ρσ_d}).call(this);return ρσ_d}).call(this)}}(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=self[(typeof key===\"number\"&&key<0)?self.length+key:key];if(self._is_singleton){if(!empty((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related)){if(empty((ρσ_expr_temp=self._related)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)])){(ρσ_expr_temp=self._related)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)]=ρσ_list_decorate([])}(ρσ_expr_temp=self._related)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)].push(key)}(ρσ_expr_temp=self._values)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].default;Object.defineProperty(self, key, {\n               get: function() {return self._values[key]},\n               set: function(value) {self._values[key] = self.adapt(key, value)},\n               })}}db.setSchema(ρσ_list_decorate([schema]))};if(!Model.prototype.__init__.__defaults__)Object.defineProperties(Model.prototype.__init__,{__defaults__:{value:{_is_env:false,_is_singleton:true}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"_is_env\",\"_is_singleton\"]}});Model.__argnames__=Model.prototype.__init__.__argnames__;Model.__handles_kwarg_interpolation__=Model.prototype.__init__.__handles_kwarg_interpolation__;Model.prototype.browse=function browse(){var self=this;var ids=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?browse.__defaults__.ids:arguments[0];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"ids\")){ids=ρσ_kwargs_obj.ids}if(empty(ids)){return new self.constructor()}else if((ids.constructor===String||typeof ids.constructor===\"object\"&&ρσ_equals(ids.constructor,String))){self=self.browse();db.get(ids).then((function(){var ρσ_anonfunc=function(record){self.id=ids;self._values=record};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}else if((ids.constructor===Array||typeof ids.constructor===\"object\"&&ρσ_equals(ids.constructor,Array))){var self = new self.constructor(false, false);db.rel.find(self._name,ids).then((function(){var ρσ_anonfunc=function(record){self.ids=ids;self._values=record[ρσ_bound_index(self._name,record)]};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}return self};if(!Model.prototype.browse.__defaults__)Object.defineProperties(Model.prototype.browse,{__defaults__:{value:{ids:false}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"ids\"]}});Model.prototype.search=function search(){var self=this;var options=arguments[arguments.length-1];if(options===null||typeof options!==\"object\"||options[ρσ_kwargs_symbol]!==true)options={};var args=Array.prototype.slice.call(arguments,0);if(options!==null&&typeof options===\"object\"&&options[ρσ_kwargs_symbol]===true)args.pop();function query(record){var results,arg;results=ρσ_list_decorate([]);var ρσ_Iter1=args;ρσ_Iter1=((typeof ρσ_Iter1[Symbol.iterator]===\"function\")?(ρσ_Iter1 instanceof Map?ρσ_Iter1.keys():ρσ_Iter1):Object.keys(ρσ_Iter1));for(var ρσ_Index1 of ρσ_Iter1){arg=ρσ_Index1;if((arg===\"|\"||typeof arg===\"object\"&&ρσ_equals(arg,\"|\"))){continue}if((arg[1]===\"=\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"=\"))){results.push((record[ρσ_bound_index(arg[0],record)]===arg[2]||typeof record[ρσ_bound_index(arg[0],record)]===\"object\"&&ρσ_equals(record[ρσ_bound_index(arg[0],record)],arg[2])))}else if((arg[1]===\">\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\">\"))){results.push(record[ρσ_bound_index(arg[0],record)]>arg[2])}else if((arg[1]===\">=\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\">=\"))){results.push(record[ρσ_bound_index(arg[0],record)]>=arg[2])}else if((arg[1]===\"<\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"<\"))){results.push(record[ρσ_bound_index(arg[0],record)]<arg[2])}else if((arg[1]===\"<=\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"<=\"))){results.push(record[ρσ_bound_index(arg[0],record)]<=arg[2])}else if((arg[1]===\"in\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"in\"))){results.push(ρσ_in(record[ρσ_bound_index(arg[0],record)],arg[2]))}}if(empty(args)){return true}else if((args[0]===\"|\"||typeof args[0]===\"object\"&&ρσ_equals(args[0],\"|\"))){return results.some((function(){var ρσ_anonfunc=function(result){return(result===true||typeof result===\"object\"&&ρσ_equals(result,true))};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"result\"]}});return ρσ_anonfunc})())}else{return results.every((function(){var ρσ_anonfunc=function(result){return(result===true||typeof result===\"object\"&&ρσ_equals(result,true))};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"result\"]}});return ρσ_anonfunc})())}};if(!query.__argnames__)Object.defineProperties(query,{__argnames__:{value:[\"record\"]}});if((options[\"limit\"]===1||typeof options[\"limit\"]===\"object\"&&ρσ_equals(options[\"limit\"],1))){self=self.browse();db.rel.find(self._name).then((function(){var ρσ_anonfunc=function(records){var record;record=records[ρσ_bound_index(self._name,records)].find(query);self.id=record.id;self._values=record;console.log(self)};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"records\"]}});return ρσ_anonfunc})())}else{var self = new self.constructor(false, false);db.rel.find(self._name).then((function(){var ρσ_anonfunc=function(records){var value;self._values=records[ρσ_bound_index(self._name,records)].filter(query);self.ids=(function(){var ρσ_Iter=self._values,ρσ_Result=[],value;ρσ_Iter=((typeof ρσ_Iter[Symbol.iterator]===\"function\")?(ρσ_Iter instanceof Map?ρσ_Iter.keys():ρσ_Iter):Object.keys(ρσ_Iter));for(var ρσ_Index of ρσ_Iter){value=ρσ_Index;ρσ_Result.push(value.id)}ρσ_Result=ρσ_list_constructor(ρσ_Result);return ρσ_Result})();console.log(self)};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"records\"]}});return ρσ_anonfunc})())}return self};if(!Model.prototype.search.__handles_kwarg_interpolation__)Object.defineProperties(Model.prototype.search,{__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[]}});Model.prototype.read=function read(){var self=this;if(self._is_env){return{}}return self._values};if(!Model.prototype.read.__argnames__)Object.defineProperties(Model.prototype.read,{__argnames__:{value:[]}});Model.prototype.adapt=function adapt(key,value){var self=this;var field;if(self._is_env){return}if(ρσ_in((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,ρσ_list_decorate([\"char\",\"text\"]))){value=new String(value)}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"integer\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"integer\"))){value=parseInt(value);if(isNaN(value)){return new Exception(\"Not a valid Number\")}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"float\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"float\"))){value=parseFloat(value);if(isNaN(value)){return new Exception(\"Not a valid Number\")}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"boolean\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"boolean\"))){if(ρσ_in(value,ρσ_list_decorate([\"true\",\"True\"]))){value=true}else if(ρσ_in(value,ρσ_list_decorate([\"false\",\"False\"]))){value=false}else if(ρσ_equals(type(value),String)){return new Exception(\"Not a valid Boolean\")}else{value=Boolean(value)}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"binary\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"binary\"))){if(!checkBase64(value)){return new Exception(\"Not a valid base64\")}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"selection\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"selection\"))){if(ρσ_in(!value,dict((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].selection))){return new Exception(\"Incorrect value\")}}if((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].store){if(!empty((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related)){(ρσ_expr_temp=self._values)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)]=value}if(!empty((ρσ_expr_temp=self._related)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key])){var ρσ_Iter2=(ρσ_expr_temp=self._related)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key];ρσ_Iter2=((typeof ρσ_Iter2[Symbol.iterator]===\"function\")?(ρσ_Iter2 instanceof Map?ρσ_Iter2.keys():ρσ_Iter2):Object.keys(ρσ_Iter2));for(var ρσ_Index2 of ρσ_Iter2){field=ρσ_Index2;(ρσ_expr_temp=self._values)[(typeof field===\"number\"&&field<0)?ρσ_expr_temp.length+field:field]=value}}}return value};if(!Model.prototype.adapt.__argnames__)Object.defineProperties(Model.prototype.adapt,{__argnames__:{value:[\"key\",\"value\"]},__doc__:{value:\"elif self._fields[key].type in ['many2one', 'one2one']:\\nif isinstance(value, models.Model):\\n   value = value.id\\nelse:\\n   value = parseInt(value)\\n   if isNaN(value):\\n      return Exception(\\\"Not a valid ID\\\")\"}});Model.prototype.update=function update(values){var self=this;var value,object,key;if(self._is_env){return}var ρσ_Iter3=keys(values);ρσ_Iter3=((typeof ρσ_Iter3[Symbol.iterator]===\"function\")?(ρσ_Iter3 instanceof Map?ρσ_Iter3.keys():ρσ_Iter3):Object.keys(ρσ_Iter3));for(var ρσ_Index3 of ρσ_Iter3){key=ρσ_Index3;value=self.adapt(key,values[(typeof key===\"number\"&&key<0)?values.length+key:key]);if(self._is_singleton){(ρσ_expr_temp=self._values)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=value}else{var ρσ_Iter4=self._values;ρσ_Iter4=((typeof ρσ_Iter4[Symbol.iterator]===\"function\")?(ρσ_Iter4 instanceof Map?ρσ_Iter4.keys():ρσ_Iter4):Object.keys(ρσ_Iter4));for(var ρσ_Index4 of ρσ_Iter4){object=ρσ_Index4;object[(typeof key===\"number\"&&key<0)?object.length+key:key]=value}}}};if(!Model.prototype.update.__argnames__)Object.defineProperties(Model.prototype.update,{__argnames__:{value:[\"values\"]}});Model.prototype.create=function create(){var self=this;var values=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?create.__defaults__.values:arguments[0];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"values\")){values=ρσ_kwargs_obj.values}if(empty(values)){values=self.read()}else{merge(self.read(),values)}if(self._is_env){self=self.browse();self.update(values)}ρσ_delitem(values,\"id\");db.rel.save(self._name,values).then((function(){var ρσ_anonfunc=function(record){self.id=record[ρσ_bound_index(self._name,record)][0].id};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})());return self};if(!Model.prototype.create.__defaults__)Object.defineProperties(Model.prototype.create,{__defaults__:{value:{values:false}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"values\"]}});Model.prototype.write=function write(){var self=this;var values=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?write.__defaults__.values:arguments[0];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"values\")){values=ρσ_kwargs_obj.values}if(empty(self.id)&&empty(self.ids)){return}if(empty(values)){if(!self._is_singleton){return}values=self.read()}else{self.update(values);values=self.read()}if(self._is_singleton){db.get(self.id).then((function(){var ρσ_anonfunc=function(record){return db.put(merge((function(){var ρσ_d={};ρσ_d[\"_id\"]=record._id;ρσ_d[\"_rev\"]=record._rev;return ρσ_d}).call(this),values))};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}else{db.bulkDocs(values).then((function(){var ρσ_anonfunc=function(record){self._values=record};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}return self};if(!Model.prototype.write.__defaults__)Object.defineProperties(Model.prototype.write,{__defaults__:{value:{values:false}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"values\"]}});Model.prototype.unlink=function unlink(){var self=this;var value;if(empty(self.id)&&empty(self.ids)){return}if(self._is_singleton){db.get(self.id).then((function(){var ρσ_anonfunc=function(record){db.remove(record)};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}else{var ρσ_Iter5=self._values;ρσ_Iter5=((typeof ρσ_Iter5[Symbol.iterator]===\"function\")?(ρσ_Iter5 instanceof Map?ρσ_Iter5.keys():ρσ_Iter5):Object.keys(ρσ_Iter5));for(var ρσ_Index5 of ρσ_Iter5){value=ρσ_Index5;value[\"_deleted\"]=true}db.bulkDocs(self._values)}return true};if(!Model.prototype.unlink.__argnames__)Object.defineProperties(Model.prototype.unlink,{__argnames__:{value:[]}});Model.prototype.__repr__=function __repr__(){return\"<\"+__name__+\".\"+this.constructor.name+\" #\"+this.ρσ_object_id+\">\"};Model.prototype.__str__=function __str__(){return this.__repr__()};Object.defineProperty(Model.prototype,\"__bases__\",{value:[]});Model.prototype._name=\"undefined\";Model.prototype._inherit=false;Model.prototype._fields={};Model.prototype._values={};Model.prototype._related={};ρσ_modules[\"orm.models\"].env=env;ρσ_modules[\"orm.models\"].Model=Model",
		"beautify:false keep_docstrings:false js_version:5": "var env;var fields=ρσ_modules[\"orm.fields\"];var keys=ρσ_modules[\"orm.tools\"].keys;var dict=ρσ_modules[\"orm.tools\"].dict;var checkBase64=ρσ_modules[\"orm.tools\"].checkBase64;var empty=ρσ_modules[\"orm.tools\"].empty;var db=ρσ_modules[\"orm.pouchdb\"].db;env={};function Model(){if(this.ρσ_object_id===undefined)Object.defineProperty(this,\"ρσ_object_id\",{\"value\":++ρσ_object_counter});Model.prototype.__init__.apply(this,arguments)}Model.prototype.__init__=function __init__(){var self=this;var _is_env=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?__init__.__defaults__._is_env:arguments[0];var _is_singleton=(arguments[1]===undefined||(1===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?__init__.__defaults__._is_singleton:arguments[1];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"_is_env\")){_is_env=ρσ_kwargs_obj._is_env}if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"_is_singleton\")){_is_singleton=ρσ_kwargs_obj._is_singleton}var schema,type,key;self._is_env=_is_env;self._is_singleton=_is_singleton;if(empty(env[ρσ_bound_index(self._name,env)])){env[ρσ_bound_index(self._name,env)]=true;env[self._name] = new self.constructor(_is_env=true);env[ρσ_bound_index(self._name,env)]._is_env=true}if(self._is_env){return}self.env=env;schema=(function(){var ρσ_d={};ρσ_d[\"singular\"]=self._name;ρσ_d[\"plural\"]=self._name;return ρσ_d}).call(this);if(self._is_singleton){self.id=null;self._fields[\"id\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"ID\",related:\"_id\",store:true})]);self._id=null;self._fields[\"_id\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"ID (Raw)\"})]);self.rev=null;self._fields[\"rev\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"DB Revision Number\",related:\"_rev\",store:true})]);self._rev=null;self._fields[\"_rev\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"DB Revision Number\"})])}else{self.ids=ρσ_list_decorate([]);self._fields[\"ids\"]=ρσ_interpolate_kwargs.call(fields,fields.Data,[ρσ_desugar_kwargs({string:\"IDs\"})])}var ρσ_Iter0=ρσ_Iterable((function(){var ρσ_Iter=ρσ_Iterable(Object.getOwnPropertyNames(self.constructor.prototype)),ρσ_Result=[],key;for(var ρσ_Index=0;ρσ_Index<ρσ_Iter.length;ρσ_Index++){key=ρσ_Iter[ρσ_Index];if((key[0]!==\"_\"&&(typeof key[0]!==\"object\"||ρσ_not_equals(key[0],\"_\")))&&!(ρσ_in(key,ρσ_list_decorate([\"constructor\",\"env\"])))){ρσ_Result.push(key)}}ρσ_Result=ρσ_list_constructor(ρσ_Result);return ρσ_Result})());for(var ρσ_Index0=0;ρσ_Index0<ρσ_Iter0.length;ρσ_Index0++){key=ρσ_Iter0[ρσ_Index0];if(ρσ_in(self[(typeof key===\"number\"&&key<0)?self.length+key:key].type,ρσ_list_decorate([\"many2one\",\"one2many\",\"many2many\",\"one2one\"]))){if(!schema.relations){schema.relations={}}type=\"belongsTo\";if(ρσ_in(self[(typeof key===\"number\"&&key<0)?self.length+key:key].type,ρσ_list_decorate([\"one2many\",\"many2many\"]))){type=\"hasMany\"}if((self[(typeof key===\"number\"&&key<0)?self.length+key:key].type!==\"one2many\"&&(typeof self[(typeof key===\"number\"&&key<0)?self.length+key:key].type!==\"object\"||ρσ_not_equals(self[(typeof key===\"number\"&&key<0)?self.length+key:key].type,\"one2many\")))){(ρσ_expr_temp=schema.relations)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=(function(){var ρσ_d={};ρσ_d[type]=self[(typeof key===\"number\"&&key<0)?self.length+key:key].relation;return ρσ_d}).call(this)}else{(ρσ_expr_temp=schema.relations)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=(function(){var ρσ_d={};ρσ_d[type]=(function(){var ρσ_d={};ρσ_d[\"type\"]=self[(typeof key===\"number\"&&key<0)?self.length+key:key].relation;ρσ_d[\"options\"]=(function(){var ρσ_d={};ρσ_d[\"queryInverse\"]=self[(typeof key===\"number\"&&key<0)?self.length+key:key].inverse;return ρσ_d}).call(this);return ρσ_d}).call(this);return ρσ_d}).call(this)}}(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=self[(typeof key===\"number\"&&key<0)?self.length+key:key];if(self._is_singleton){if(!empty((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related)){if(empty((ρσ_expr_temp=self._related)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)])){(ρσ_expr_temp=self._related)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)]=ρσ_list_decorate([])}(ρσ_expr_temp=self._related)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)].push(key)}(ρσ_expr_temp=self._values)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].default;Object.defineProperty(self, key, {\n               get: function() {return self._values[key]},\n               set: function(value) {self._values[key] = self.adapt(key, value)},\n               })}}db.setSchema(ρσ_list_decorate([schema]))};if(!Model.prototype.__init__.__defaults__)Object.defineProperties(Model.prototype.__init__,{__defaults__:{value:{_is_env:false,_is_singleton:true}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"_is_env\",\"_is_singleton\"]}});Model.__argnames__=Model.prototype.__init__.__argnames__;Model.__handles_kwarg_interpolation__=Model.prototype.__init__.__handles_kwarg_interpolation__;Model.prototype.browse=function browse(){var self=this;var ids=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?browse.__defaults__.ids:arguments[0];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"ids\")){ids=ρσ_kwargs_obj.ids}if(empty(ids)){return new self.constructor()}else if((ids.constructor===String||typeof ids.constructor===\"object\"&&ρσ_equals(ids.constructor,String))){self=self.browse();db.get(ids).then((function(){var ρσ_anonfunc=function(record){self.id=ids;self._values=record};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}else if((ids.constructor===Array||typeof ids.constructor===\"object\"&&ρσ_equals(ids.constructor,Array))){var self = new self.constructor(false, false);db.rel.find(self._name,ids).then((function(){var ρσ_anonfunc=function(record){self.ids=ids;self._values=record[ρσ_bound_index(self._name,record)]};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}return self};if(!Model.prototype.browse.__defaults__)Object.defineProperties(Model.prototype.browse,{__defaults__:{value:{ids:false}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"ids\"]}});Model.prototype.search=function search(){var self=this;var options=arguments[arguments.length-1];if(options===null||typeof options!==\"object\"||options[ρσ_kwargs_symbol]!==true)options={};var args=Array.prototype.slice.call(arguments,0);if(options!==null&&typeof options===\"object\"&&options[ρσ_kwargs_symbol]===true)args.pop();function query(record){var results,arg;results=ρσ_list_decorate([]);var ρσ_Iter1=ρσ_Iterable(args);for(var ρσ_Index1=0;ρσ_Index1<ρσ_Iter1.length;ρσ_Index1++){arg=ρσ_Iter1[ρσ_Index1];if((arg===\"|\"||typeof arg===\"object\"&&ρσ_equals(arg,\"|\"))){continue}if((arg[1]===\"=\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"=\"))){results.push((record[ρσ_bound_index(arg[0],record)]===arg[2]||typeof record[ρσ_bound_index(arg[0],record)]===\"object\"&&ρσ_equals(record[ρσ_bound_index(arg[0],record)],arg[2])))}else if((arg[1]===\">\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\">\"))){results.push(record[ρσ_bound_index(arg[0],record)]>arg[2])}else if((arg[1]===\">=\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\">=\"))){results.push(record[ρσ_bound_index(arg[0],record)]>=arg[2])}else if((arg[1]===\"<\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"<\"))){results.push(record[ρσ_bound_index(arg[0],record)]<arg[2])}else if((arg[1]===\"<=\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"<=\"))){results.push(record[ρσ_bound_index(arg[0],record)]<=arg[2])}else if((arg[1]===\"in\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"in\"))){results.push(ρσ_in(record[ρσ_bound_index(arg[0],record)],arg[2]))}}if(empty(args)){return true}else if((args[0]===\"|\"||typeof args[0]===\"object\"&&ρσ_equals(args[0],\"|\"))){return results.some((function(){var ρσ_anonfunc=function(result){return(result===true||typeof result===\"object\"&&ρσ_equals(result,true))};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"result\"]}});return ρσ_anonfunc})())}else{return results.every((function(){var ρσ_anonfunc=function(result){return(result===true||typeof result===\"object\"&&ρσ_equals(result,true))};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"result\"]}});return ρσ_anonfunc})())}};if(!query.__argnames__)Object.defineProperties(query,{__argnames__:{value:[\"record\"]}});if((options[\"limit\"]===1||typeof options[\"limit\"]===\"object\"&&ρσ_equals(options[\"limit\"],1))){self=self.browse();db.rel.find(self._name).then((function(){var ρσ_anonfunc=function(records){var record;record=records[ρσ_bound_index(self._name,records)].find(query);self.id=record.id;self._values=record;console.log(self)};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"records\"]}});return ρσ_anonfunc})())}else{var self = new self.constructor(false, false);db.rel.find(self._name).then((function(){var ρσ_anonfunc=function(records){var value;self._values=records[ρσ_bound_index(self._name,records)].filter(query);self.ids=(function(){var ρσ_Iter=ρσ_Iterable(self._values),ρσ_Result=[],value;for(var ρσ_Index=0;ρσ_Index<ρσ_Iter.length;ρσ_Index++){value=ρσ_Iter[ρσ_Index];ρσ_Result.push(value.id)}ρσ_Result=ρσ_list_constructor(ρσ_Result);return ρσ_Result})();console.log(self)};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"records\"]}});return ρσ_anonfunc})())}return self};if(!Model.prototype.search.__handles_kwarg_interpolation__)Object.defineProperties(Model.prototype.search,{__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[]}});Model.prototype.read=function read(){var self=this;if(self._is_env){return{}}return self._values};if(!Model.prototype.read.__argnames__)Object.defineProperties(Model.prototype.read,{__argnames__:{value:[]}});Model.prototype.adapt=function adapt(key,value){var self=this;var field;if(self._is_env){return}if(ρσ_in((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,ρσ_list_decorate([\"char\",\"text\"]))){value=new String(value)}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"integer\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"integer\"))){value=parseInt(value);if(isNaN(value)){return new Exception(\"Not a valid Number\")}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"float\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"float\"))){value=parseFloat(value);if(isNaN(value)){return new Exception(\"Not a valid Number\")}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"boolean\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"boolean\"))){if(ρσ_in(value,ρσ_list_decorate([\"true\",\"True\"]))){value=true}else if(ρσ_in(value,ρσ_list_decorate([\"false\",\"False\"]))){value=false}else if(ρσ_equals(type(value),String)){return new Exception(\"Not a valid Boolean\")}else{value=Boolean(value)}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"binary\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"binary\"))){if(!checkBase64(value)){return new Exception(\"Not a valid base64\")}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"selection\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"selection\"))){if(ρσ_in(!value,dict((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].selection))){return new Exception(\"Incorrect value\")}}if((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].store){if(!empty((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related)){(ρσ_expr_temp=self._values)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)]=value}if(!empty((ρσ_expr_temp=self._related)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key])){var ρσ_Iter2=ρσ_Iterable((ρσ_expr_temp=self._related)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]);for(var ρσ_Index2=0;ρσ_Index2<ρσ_Iter2.length;ρσ_Index2++){field=ρσ_Iter2[ρσ_Index2];(ρσ_expr_temp=self._values)[(typeof field===\"number\"&&field<0)?ρσ_expr_temp.length+field:field]=value}}}return value};if(!Model.prototype.adapt.__argnames__)Object.defineProperties(Model.prototype.adapt,{__argnames__:{value:[\"key\",\"value\"]}});Model.prototype.update=function update(values){var self=this;var value,object,key;if(self._is_env){return}var ρσ_Iter3=ρσ_Iterable(keys(values));for(var ρσ_Index3=0;ρσ_Index3<ρσ_Iter3.length;ρσ_Index3++){key=ρσ_Iter3[ρσ_Index3];value=self.adapt(key,values[(typeof key===\"number\"&&key<0)?values.length+key:key]);if(self._is_singleton){(ρσ_expr_temp=self._values)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=value}else{var ρσ_Iter4=ρσ_Iterable(self._values);for(var ρσ_Index4=0;ρσ_Index4<ρσ_Iter4.length;ρσ_Index4++){object=ρσ_Iter4[ρσ_Index4];object[(typeof key===\"number\"&&key<0)?object.length+key:key]=value}}}};if(!Model.prototype.update.__argnames__)Object.defineProperties(Model.prototype.update,{__argnames__:{value:[\"values\"]}});Model.prototype.create=function create(){var self=this;var values=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?create.__defaults__.values:arguments[0];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"values\")){values=ρσ_kwargs_obj.values}if(empty(values)){values=self.read()}else{merge(self.read(),values)}if(self._is_env){self=self.browse();self.update(values)}ρσ_delitem(values,\"id\");db.rel.save(self._name,values).then((function(){var ρσ_anonfunc=function(record){self.id=record[ρσ_bound_index(self._name,record)][0].id};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})());return self};if(!Model.prototype.create.__defaults__)Object.defineProperties(Model.prototype.create,{__defaults__:{value:{values:false}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"values\"]}});Model.prototype.write=function write(){var self=this;var values=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?write.__defaults__.values:arguments[0];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"values\")){values=ρσ_kwargs_obj.values}if(empty(self.id)&&empty(self.ids)){return}if(empty(values)){if(!self._is_singleton){return}values=self.read()}else{self.update(values);values=self.read()}if(self._is_singleton){db.get(self.id).then((function(){var ρσ_anonfunc=function(record){return db.put(merge((function(){var ρσ_d={};ρσ_d[\"_id\"]=record._id;ρσ_d[\"_rev\"]=record._rev;return ρσ_d}).call(this),values))};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}else{db.bulkDocs(values).then((function(){var ρσ_anonfunc=function(record){self._values=record};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}return self};if(!Model.prototype.write.__defaults__)Object.defineProperties(Model.prototype.write,{__defaults__:{value:{values:false}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"values\"]}});Model.prototype.unlink=function unlink(){var self=this;var value;if(empty(self.id)&&empty(self.ids)){return}if(self._is_singleton){db.get(self.id).then((function(){var ρσ_anonfunc=function(record){db.remove(record)};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}else{var ρσ_Iter5=ρσ_Iterable(self._values);for(var ρσ_Index5=0;ρσ_Index5<ρσ_Iter5.length;ρσ_Index5++){value=ρσ_Iter5[ρσ_Index5];value[\"_deleted\"]=true}db.bulkDocs(self._values)}return true};if(!Model.prototype.unlink.__argnames__)Object.defineProperties(Model.prototype.unlink,{__argnames__:{value:[]}});Model.prototype.__repr__=function __repr__(){return\"<\"+__name__+\".\"+this.constructor.name+\" #\"+this.ρσ_object_id+\">\"};Model.prototype.__str__=function __str__(){return this.__repr__()};Object.defineProperty(Model.prototype,\"__bases__\",{value:[]});Model.prototype._name=\"undefined\";Model.prototype._inherit=false;Model.prototype._fields={};Model.prototype._values={};Model.prototype._related={};ρσ_modules[\"orm.models\"].env=env;ρσ_modules[\"orm.models\"].Model=Model",
		"beautify:false keep_docstrings:false js_version:6": "var env;var fields=ρσ_modules[\"orm.fields\"];var keys=ρσ_modules[\"orm.tools\"].keys;var dict=ρσ_modules[\"orm.tools\"].dict;var checkBase64=ρσ_modules[\"orm.tools\"].checkBase64;var empty=ρσ_modules[\"orm.tools\"].empty;var db=ρσ_modules[\"orm.pouchdb\"].db;env={};function Model(){if(this.ρσ_object_id===undefined)Object.defineProperty(this,\"ρσ_object_id\",{\"value\":++ρσ_object_counter});Model.prototype.__init__.apply(this,arguments)}Model.prototype.__init__=function __init__(){var self=this;var _is_env=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?__init__.__defaults__._is_env:arguments[0];var _is_singleton=(arguments[1]===undefined||(1===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?__init__.__defaults__._is_singleton:arguments[1];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"_is_env\")){_is_env=ρσ_kwargs_obj._is_env}if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"_is_singleton\")){_is_singleton=ρσ_kwargs_obj._is_singleton}var schema,type,key;self._is_env=_is_env;self._is_singleton=_is_singleton;if(empty(env[ρσ_bound_index(self._name,env)])){env[ρσ_bound_index(self._name,env)]=true;env[self._name] = new self.constructor(_is_env=true);env[ρσ_bound_index(self._name,env)]._is_env=true}if(self._is_env){return}self.env=env;schema=(function(){var ρσ_d={};ρσ_d[\"singular\"]=self._name;ρσ_d[\"plural\"]=self._name;return ρσ_d}).call(this);if(self._is_singleton){self.id=null;self._fields[\"id\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"ID\",related:\"_id\",store:true})]);self._id=null;self._fields[\"_id\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"ID (Raw)\"})]);self.rev=null;self._fields[\"rev\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"DB Revision Number\",related:\"_rev\",store:true})]);self._rev=null;self._fields[\"_rev\"]=ρσ_interpolate_kwargs.call(fields,fields.Char,[ρσ_desugar_kwargs({string:\"DB Revision Number\"})])}else{self.ids=ρσ_list_decorate([]);self._fields[\"ids\"]=ρσ_interpolate_kwargs.call(fields,fields.Data,[ρσ_desugar_kwargs({string:\"IDs\"})])}var ρσ_Iter0=(function(){var ρσ_Iter=Object.getOwnPropertyNames(self.constructor.prototype),ρσ_Result=[],key;ρσ_Iter=((typeof ρσ_Iter[Symbol.iterator]===\"function\")?(ρσ_Iter instanceof Map?ρσ_Iter.keys():ρσ_Iter):Object.keys(ρσ_Iter));for(var ρσ_Index of ρσ_Iter){key=ρσ_Index;if((key[0]!==\"_\"&&(typeof key[0]!==\"object\"||ρσ_not_equals(key[0],\"_\")))&&!(ρσ_in(key,ρσ_list_decorate([\"constructor\",\"env\"])))){ρσ_Result.push(key)}}ρσ_Result=ρσ_list_constructor(ρσ_Result);return ρσ_Result})();ρσ_Iter0=((typeof ρσ_Iter0[Symbol.iterator]===\"function\")?(ρσ_Iter0 instanceof Map?ρσ_Iter0.keys():ρσ_Iter0):Object.keys(ρσ_Iter0));for(var ρσ_Index0 of ρσ_Iter0){key=ρσ_Index0;if(ρσ_in(self[(typeof key===\"number\"&&key<0)?self.length+key:key].type,ρσ_list_decorate([\"many2one\",\"one2many\",\"many2many\",\"one2one\"]))){if(!schema.relations){schema.relations={}}type=\"belongsTo\";if(ρσ_in(self[(typeof key===\"number\"&&key<0)?self.length+key:key].type,ρσ_list_decorate([\"one2many\",\"many2many\"]))){type=\"hasMany\"}if((self[(typeof key===\"number\"&&key<0)?self.length+key:key].type!==\"one2many\"&&(typeof self[(typeof key===\"number\"&&key<0)?self.length+key:key].type!==\"object\"||ρσ_not_equals(self[(typeof key===\"number\"&&key<0)?self.length+key:key].type,\"one2many\")))){(ρσ_expr_temp=schema.relations)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=(function(){var ρσ_d={};ρσ_d[type]=self[(typeof key===\"number\"&&key<0)?self.length+key:key].relation;return ρσ_d}).call(this)}else{(ρσ_expr_temp=schema.relations)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=(function(){var ρσ_d={};ρσ_d[type]=(function(){var ρσ_d={};ρσ_d[\"type\"]=self[(typeof key===\"number\"&&key<0)?self.length+key:key].relation;ρσ_d[\"options\"]=(function(){var ρσ_d={};ρσ_d[\"queryInverse\"]=self[(typeof key===\"number\"&&key<0)?self.length+key:key].inverse;return ρσ_d}).call(this);return ρσ_d}).call(this);return ρσ_d}).call(this)}}(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=self[(typeof key===\"number\"&&key<0)?self.length+key:key];if(self._is_singleton){if(!empty((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related)){if(empty((ρσ_expr_temp=self._related)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)])){(ρσ_expr_temp=self._related)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)]=ρσ_list_decorate([])}(ρσ_expr_temp=self._related)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)].push(key)}(ρσ_expr_temp=self._values)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].default;Object.defineProperty(self, key, {\n               get: function() {return self._values[key]},\n               set: function(value) {self._values[key] = self.adapt(key, value)},\n               })}}db.setSchema(ρσ_list_decorate([schema]))};if(!Model.prototype.__init__.__defaults__)Object.defineProperties(Model.prototype.__init__,{__defaults__:{value:{_is_env:false,_is_singleton:true}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"_is_env\",\"_is_singleton\"]}});Model.__argnames__=Model.prototype.__init__.__argnames__;Model.__handles_kwarg_interpolation__=Model.prototype.__init__.__handles_kwarg_interpolation__;Model.prototype.browse=function browse(){var self=this;var ids=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?browse.__defaults__.ids:arguments[0];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"ids\")){ids=ρσ_kwargs_obj.ids}if(empty(ids)){return new self.constructor()}else if((ids.constructor===String||typeof ids.constructor===\"object\"&&ρσ_equals(ids.constructor,String))){self=self.browse();db.get(ids).then((function(){var ρσ_anonfunc=function(record){self.id=ids;self._values=record};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}else if((ids.constructor===Array||typeof ids.constructor===\"object\"&&ρσ_equals(ids.constructor,Array))){var self = new self.constructor(false, false);db.rel.find(self._name,ids).then((function(){var ρσ_anonfunc=function(record){self.ids=ids;self._values=record[ρσ_bound_index(self._name,record)]};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}return self};if(!Model.prototype.browse.__defaults__)Object.defineProperties(Model.prototype.browse,{__defaults__:{value:{ids:false}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"ids\"]}});Model.prototype.search=function search(){var self=this;var options=arguments[arguments.length-1];if(options===null||typeof options!==\"object\"||options[ρσ_kwargs_symbol]!==true)options={};var args=Array.prototype.slice.call(arguments,0);if(options!==null&&typeof options===\"object\"&&options[ρσ_kwargs_symbol]===true)args.pop();function query(record){var results,arg;results=ρσ_list_decorate([]);var ρσ_Iter1=args;ρσ_Iter1=((typeof ρσ_Iter1[Symbol.iterator]===\"function\")?(ρσ_Iter1 instanceof Map?ρσ_Iter1.keys():ρσ_Iter1):Object.keys(ρσ_Iter1));for(var ρσ_Index1 of ρσ_Iter1){arg=ρσ_Index1;if((arg===\"|\"||typeof arg===\"object\"&&ρσ_equals(arg,\"|\"))){continue}if((arg[1]===\"=\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"=\"))){results.push((record[ρσ_bound_index(arg[0],record)]===arg[2]||typeof record[ρσ_bound_index(arg[0],record)]===\"object\"&&ρσ_equals(record[ρσ_bound_index(arg[0],record)],arg[2])))}else if((arg[1]===\">\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\">\"))){results.push(record[ρσ_bound_index(arg[0],record)]>arg[2])}else if((arg[1]===\">=\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\">=\"))){results.push(record[ρσ_bound_index(arg[0],record)]>=arg[2])}else if((arg[1]===\"<\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"<\"))){results.push(record[ρσ_bound_index(arg[0],record)]<arg[2])}else if((arg[1]===\"<=\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"<=\"))){results.push(record[ρσ_bound_index(arg[0],record)]<=arg[2])}else if((arg[1]===\"in\"||typeof arg[1]===\"object\"&&ρσ_equals(arg[1],\"in\"))){results.push(ρσ_in(record[ρσ_bound_index(arg[0],record)],arg[2]))}}if(empty(args)){return true}else if((args[0]===\"|\"||typeof args[0]===\"object\"&&ρσ_equals(args[0],\"|\"))){return results.some((function(){var ρσ_anonfunc=function(result){return(result===true||typeof result===\"object\"&&ρσ_equals(result,true))};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"result\"]}});return ρσ_anonfunc})())}else{return results.every((function(){var ρσ_anonfunc=function(result){return(result===true||typeof result===\"object\"&&ρσ_equals(result,true))};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"result\"]}});return ρσ_anonfunc})())}};if(!query.__argnames__)Object.defineProperties(query,{__argnames__:{value:[\"record\"]}});if((options[\"limit\"]===1||typeof options[\"limit\"]===\"object\"&&ρσ_equals(options[\"limit\"],1))){self=self.browse();db.rel.find(self._name).then((function(){var ρσ_anonfunc=function(records){var record;record=records[ρσ_bound_index(self._name,records)].find(query);self.id=record.id;self._values=record;console.log(self)};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"records\"]}});return ρσ_anonfunc})())}else{var self = new self.constructor(false, false);db.rel.find(self._name).then((function(){var ρσ_anonfunc=function(records){var value;self._values=records[ρσ_bound_index(self._name,records)].filter(query);self.ids=(function(){var ρσ_Iter=self._values,ρσ_Result=[],value;ρσ_Iter=((typeof ρσ_Iter[Symbol.iterator]===\"function\")?(ρσ_Iter instanceof Map?ρσ_Iter.keys():ρσ_Iter):Object.keys(ρσ_Iter));for(var ρσ_Index of ρσ_Iter){value=ρσ_Index;ρσ_Result.push(value.id)}ρσ_Result=ρσ_list_constructor(ρσ_Result);return ρσ_Result})();console.log(self)};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"records\"]}});return ρσ_anonfunc})())}return self};if(!Model.prototype.search.__handles_kwarg_interpolation__)Object.defineProperties(Model.prototype.search,{__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[]}});Model.prototype.read=function read(){var self=this;if(self._is_env){return{}}return self._values};if(!Model.prototype.read.__argnames__)Object.defineProperties(Model.prototype.read,{__argnames__:{value:[]}});Model.prototype.adapt=function adapt(key,value){var self=this;var field;if(self._is_env){return}if(ρσ_in((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,ρσ_list_decorate([\"char\",\"text\"]))){value=new String(value)}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"integer\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"integer\"))){value=parseInt(value);if(isNaN(value)){return new Exception(\"Not a valid Number\")}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"float\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"float\"))){value=parseFloat(value);if(isNaN(value)){return new Exception(\"Not a valid Number\")}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"boolean\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"boolean\"))){if(ρσ_in(value,ρσ_list_decorate([\"true\",\"True\"]))){value=true}else if(ρσ_in(value,ρσ_list_decorate([\"false\",\"False\"]))){value=false}else if(ρσ_equals(type(value),String)){return new Exception(\"Not a valid Boolean\")}else{value=Boolean(value)}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"binary\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"binary\"))){if(!checkBase64(value)){return new Exception(\"Not a valid base64\")}}else if(((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"selection\"||typeof(ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type===\"object\"&&ρσ_equals((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].type,\"selection\"))){if(ρσ_in(!value,dict((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].selection))){return new Exception(\"Incorrect value\")}}if((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].store){if(!empty((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related)){(ρσ_expr_temp=self._values)[ρσ_bound_index((ρσ_expr_temp=self._fields)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key].related,ρσ_expr_temp)]=value}if(!empty((ρσ_expr_temp=self._related)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key])){var ρσ_Iter2=(ρσ_expr_temp=self._related)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key];ρσ_Iter2=((typeof ρσ_Iter2[Symbol.iterator]===\"function\")?(ρσ_Iter2 instanceof Map?ρσ_Iter2.keys():ρσ_Iter2):Object.keys(ρσ_Iter2));for(var ρσ_Index2 of ρσ_Iter2){field=ρσ_Index2;(ρσ_expr_temp=self._values)[(typeof field===\"number\"&&field<0)?ρσ_expr_temp.length+field:field]=value}}}return value};if(!Model.prototype.adapt.__argnames__)Object.defineProperties(Model.prototype.adapt,{__argnames__:{value:[\"key\",\"value\"]}});Model.prototype.update=function update(values){var self=this;var value,object,key;if(self._is_env){return}var ρσ_Iter3=keys(values);ρσ_Iter3=((typeof ρσ_Iter3[Symbol.iterator]===\"function\")?(ρσ_Iter3 instanceof Map?ρσ_Iter3.keys():ρσ_Iter3):Object.keys(ρσ_Iter3));for(var ρσ_Index3 of ρσ_Iter3){key=ρσ_Index3;value=self.adapt(key,values[(typeof key===\"number\"&&key<0)?values.length+key:key]);if(self._is_singleton){(ρσ_expr_temp=self._values)[(typeof key===\"number\"&&key<0)?ρσ_expr_temp.length+key:key]=value}else{var ρσ_Iter4=self._values;ρσ_Iter4=((typeof ρσ_Iter4[Symbol.iterator]===\"function\")?(ρσ_Iter4 instanceof Map?ρσ_Iter4.keys():ρσ_Iter4):Object.keys(ρσ_Iter4));for(var ρσ_Index4 of ρσ_Iter4){object=ρσ_Index4;object[(typeof key===\"number\"&&key<0)?object.length+key:key]=value}}}};if(!Model.prototype.update.__argnames__)Object.defineProperties(Model.prototype.update,{__argnames__:{value:[\"values\"]}});Model.prototype.create=function create(){var self=this;var values=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?create.__defaults__.values:arguments[0];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"values\")){values=ρσ_kwargs_obj.values}if(empty(values)){values=self.read()}else{merge(self.read(),values)}if(self._is_env){self=self.browse();self.update(values)}ρσ_delitem(values,\"id\");db.rel.save(self._name,values).then((function(){var ρσ_anonfunc=function(record){self.id=record[ρσ_bound_index(self._name,record)][0].id};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})());return self};if(!Model.prototype.create.__defaults__)Object.defineProperties(Model.prototype.create,{__defaults__:{value:{values:false}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"values\"]}});Model.prototype.write=function write(){var self=this;var values=(arguments[0]===undefined||(0===arguments.length-1&&arguments[arguments.length-1]!==null&&typeof arguments[arguments.length-1]===\"object\"&&arguments[arguments.length-1][ρσ_kwargs_symbol]===true))?write.__defaults__.values:arguments[0];var ρσ_kwargs_obj=arguments[arguments.length-1];if(ρσ_kwargs_obj===null||typeof ρσ_kwargs_obj!==\"object\"||ρσ_kwargs_obj[ρσ_kwargs_symbol]!==true)ρσ_kwargs_obj={};if(Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj,\"values\")){values=ρσ_kwargs_obj.values}if(empty(self.id)&&empty(self.ids)){return}if(empty(values)){if(!self._is_singleton){return}values=self.read()}else{self.update(values);values=self.read()}if(self._is_singleton){db.get(self.id).then((function(){var ρσ_anonfunc=function(record){return db.put(merge((function(){var ρσ_d={};ρσ_d[\"_id\"]=record._id;ρσ_d[\"_rev\"]=record._rev;return ρσ_d}).call(this),values))};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}else{db.bulkDocs(values).then((function(){var ρσ_anonfunc=function(record){self._values=record};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}return self};if(!Model.prototype.write.__defaults__)Object.defineProperties(Model.prototype.write,{__defaults__:{value:{values:false}},__handles_kwarg_interpolation__:{value:true},__argnames__:{value:[\"values\"]}});Model.prototype.unlink=function unlink(){var self=this;var value;if(empty(self.id)&&empty(self.ids)){return}if(self._is_singleton){db.get(self.id).then((function(){var ρσ_anonfunc=function(record){db.remove(record)};if(!ρσ_anonfunc.__argnames__)Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:[\"record\"]}});return ρσ_anonfunc})())}else{var ρσ_Iter5=self._values;ρσ_Iter5=((typeof ρσ_Iter5[Symbol.iterator]===\"function\")?(ρσ_Iter5 instanceof Map?ρσ_Iter5.keys():ρσ_Iter5):Object.keys(ρσ_Iter5));for(var ρσ_Index5 of ρσ_Iter5){value=ρσ_Index5;value[\"_deleted\"]=true}db.bulkDocs(self._values)}return true};if(!Model.prototype.unlink.__argnames__)Object.defineProperties(Model.prototype.unlink,{__argnames__:{value:[]}});Model.prototype.__repr__=function __repr__(){return\"<\"+__name__+\".\"+this.constructor.name+\" #\"+this.ρσ_object_id+\">\"};Model.prototype.__str__=function __str__(){return this.__repr__()};Object.defineProperty(Model.prototype,\"__bases__\",{value:[]});Model.prototype._name=\"undefined\";Model.prototype._inherit=false;Model.prototype._fields={};Model.prototype._values={};Model.prototype._related={};ρσ_modules[\"orm.models\"].env=env;ρσ_modules[\"orm.models\"].Model=Model"
	},
	"discard_asserts": false
}