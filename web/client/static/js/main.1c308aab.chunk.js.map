{"version":3,"sources":["react.js","api.js","login.js","routes.js","app.js","index.js","react-dom.js"],"names":["window","React","Error","module","exports","href","PouchDB","plugin","PouchFind","RelationalPouch","require","default","session_db","rapyd_config","localStorage","rapyd_server_url","url","location","protocol","origin","pathname","substring","lastIndexOf","globals","preload","root","document","getElementById","object","done","value","preload_count","preload_loader","remove","preload_backdrop","preloader","createElement","className","insertAdjacentHTML","backdrop","insertAdjacentElement","_callee","session_object","new_session","orm","regenerator_default","a","wrap","_context","prev","next","export_object","models","abrupt","tools","local_db","get","sent","t0","login","password","encrypted","client_js_time","logout","reload","client_js","t1","console","log","ORM","t2","stop","_callee2","session","_context2","put","Object","objectSpread","_callee3","args","_context3","compress","ajax","status","checkBase64","LZMA","decompress","decodeBuffer","_rev","unsaved","_id","_callee4","_context4","destroy","_callee5","isRN","URL","blob","BlobBuilder","exported","_context5","navigator","product","debug_pretty","indent","code","replace","Function","prototype","bind","apply","webkitURL","Blob","type","error","WebKitBlobBuilder","MozBlobBuilder","append","getBlob","import","createObjectURL","configuration","assign","env","context","user","browse","id","create_data","ajax_load","options","no_preload","ajax_resolve","resolve","xhr","response","ajax_reject","reject","exceptionCount","exception","keys","exceptions","find","constructor","app","dialog","alert","message","warningCount","warning","offline","arguments","length","undefined","Promise","warn","toast","create","text","closeButton","closeTimeout","open","orm_ready","dataType","data","parseURI","XMLHttpRequest","onload","this","onerror","statusText","setRequestHeader","responseType","send","array","key","JSON","stringify","push","encodeURIComponent","join","string","btoa","atob","Uint8Array","i","charCodeAt","get_session","update_session","wait","ms","setTimeout","wait_exist","fn","interval","setInterval","clearInterval","handleClientError","values","readAsDataURL","file","load","reader","FileReader","event","target","result","then","catch","hasValue","Array","String","indexOf","toString","hasKey","_default","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","username","_iterator","querySelectorAll","Symbol","iterator","_iteratorNormalCompletion","_step","addEventListener","clickEvent","api","choose_database","databases","setState","_this2","react_default","framework7_react_esm","noToolbar","noNavbar","noSwipeback","loginScreen","form","required","label","onInput","e","database","disabled","selected","map","style","color","placeholder","autofocus","onClick","signIn","float","marginLeft","setUrl","marginRight","preventDefault","keyCode","$f7","prompt","input","querySelector","self","success","Component","routes","path","component","LoginPage","src_app","f7params","name","theme","panel","swipe","leftBreakpoint","swipeThreshold","params","colorTheme","main","preloadPreviousPage","pushState","OfflinePluginRuntime","onInstalled","onUpdateReady","confirm","Framework7","use","Framework7React","ReactDOM","rapydComponents","Framework7Components","client","components","selectivity","Selectivity","Templates","flatpickr","csv","FileSaver","AgGridReact","asyncToGenerator","mark","wait_session","_ref2","InstallPromp","display","_x","render","App","init_client"],"mappings":"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","file":"static/js/main.1c308aab.chunk.js","sourcesContent":["if (!window.React) {\n  throw Error('React must be defined on global variable');\n}\n\nmodule.exports = window.React;\n","import PouchDB from 'pouchdb-browser';\nimport PouchFind from 'pouchdb-find';\n//import PouchSearch from 'pouchdb-quick-search';\nimport RelationalPouch from 'relational-pouch';\n\nPouchDB.plugin(PouchFind);\n//PouchDB.plugin(PouchSearch);\nPouchDB.plugin(RelationalPouch);\nPouchDB.plugin(require('pouchdb-debug').default);\nwindow.PouchDB = PouchDB;\nwindow.session_db = new PouchDB('session');\n\nif (!window.rapyd_config) window.rapyd_config = {};\n\nif (!window.localStorage.rapyd_server_url) {\n  if (window.rapyd_config.url) {\n    window.localStorage.rapyd_server_url = window.rapyd_config.url;\n  }\n  else if (window.location.protocol === 'file:') {\n    window.localStorage.rapyd_server_url = 'http://localhost:8069';\n  }\n  else {\n    window.localStorage.rapyd_server_url = ((href) => href.substring(0, href.lastIndexOf('/')) + '/')(window.location.origin + window.location.pathname);\n  }\n}\n\nconst globals = {};\nglobals.orm = new Promise((resolve) => globals.orm_ready = resolve)\n\nfunction preload() {\n  const root = document.getElementById('app');\n  if (root) {\n    const object = {done: (value) => {\n      globals.preload_count -= 1;\n      if (globals.preload_count != 0) return value;\n      else delete globals.preload_count;\n      globals.preload_loader.remove();\n      globals.preload_backdrop.remove();\n      return value;\n    }};\n    if (!globals.preload_count) {\n      globals.preload_count = 1;\n    }\n    else {\n      globals.preload_count += 1;\n      return object;\n    }\n    const preloader = document.createElement('div');\n    preloader.className = 'preloader-modal';\n    preloader.insertAdjacentHTML('beforeend',`\n    <div class=\"preloader color-white\">\n      <span class=\"preloader-inner\">\n        <span class=\"preloader-inner-gap\"></span>\n        <span class=\"preloader-inner-left\">\n          <span class=\"preloader-inner-half-circle\"></span>\n        </span>\n        <span class=\"preloader-inner-right\">\n          <span class=\"preloader-inner-half-circle\"></span>\n        </span>\n      </span>\n    </div>`);\n    const backdrop = document.createElement('div');\n    backdrop.className = 'preloader-backdrop';\n    root.insertAdjacentElement('beforeend', backdrop);\n    root.insertAdjacentElement('beforeend', preloader);\n    globals.preload_loader = preloader;\n    globals.preload_backdrop = backdrop;\n    return object;\n  }\n}\n\nasync function get_session() {\n  const session_db = window.session_db;\n  if (export_object.models) {\n    return {models: export_object.models, tools: export_object.tools, local_db: export_object.local_db};\n  }\n  try {\n    let session_object;\n    try {\n      session_object = await session_db.get('session');\n    }\n    catch {\n      return {};\n    }\n    try {\n      const new_session = await login({login: session_object.login, password: session_object.password, encrypted: true, client_js_time: session_object.client_js_time});\n      if (!new_session) {\n        await logout();\n        window.location.reload();\n      }\n      else if (!new_session.client_js) {\n        new_session.client_js = session_object.client_js;\n      }\n      session_object = new_session;\n    }\n    catch(error) {\n      console.log(error);\n    }\n    const orm = await ORM(session_object);\n    export_object.models = orm.models;\n    export_object.tools = orm.tools;\n    export_object.local_db = orm.local_db;\n    return orm;\n  }\n  catch(error) {\n    throw error;\n    console.log(error);\n    return {};\n  }\n}\n\nasync function update_session(new_session) {\n  const session = await window.session_db.get('session');\n  return await window.session_db.put({...session, ...new_session});\n}\n\nasync function login(args) {\n  args.encrypted = args.encrypted ? true: false;\n  /*if (!document.documentMode && !/Edge/.test(navigator.userAgent)) */args.compress = true;\n  const session = await ajax('post', 'json', window.localStorage.rapyd_server_url + '/api/login', args);\n  if (session.status === 'denied') {\n    return false;\n  }\n  else if (session.status === 'error') {\n    throw Error(\"There are an error on the server\");\n  }\n  if (args.compress && checkBase64(session.client_js)) session.client_js = require('lzma/src/lzma-d').LZMA.decompress(decodeBuffer(session.client_js));\n  console.log(session);\n  try {\n    const session_object = await window.session_db.get('session');\n    session._rev = session_object._rev;\n    session.unsaved = session_object.unsaved;\n    session.client_js = session.client_js || session_object.client_js\n    session.client_js_time = session.client_js_time || session_object.client_js_time\n  }\n  catch(error) {\n    session.unsaved = {};\n  }\n  session._id = 'session';\n  await window.session_db.put(session);\n  return session;\n}\n\nasync function logout() {\n  try {\n    const session = await window.session_db.get('session');\n    await window.session_db.remove(session);\n  }\n  catch(error) {\n    console.log(error);\n  }\n  window.local_db.destroy();\n  return window.location.reload();\n}\n\nfunction wait(ms) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => resolve(), ms);\n  });\n}\n\nfunction wait_exist(fn) {\n  return new Promise((resolve, reject) => {\n    const clear = (id) => {\n      clearInterval(id);\n      resolve();\n    }\n    const interval = setInterval(() => {if (fn()) clear(interval)}, 0);\n  });\n}\n\nasync function ORM(session) {\n  //window.localStorage.rapyd_server_url = session.url;\n  // eslint-disable-next-line\n  //new Function(session.client_js)();\n  //const orm = {};\n  const isRN = typeof navigator != 'undefined' && navigator.product == 'ReactNative';\n  let orm = {};\n  if (window.localStorage.debug_pretty === 'true' || isRN) session.client_js = require('pretty-fast')(session.client_js, {url: 'orm_code', indent: '  '}).code.replace(/asyncfunction/g, 'async function').replace(/awaitawait_all/g, 'await await_all');\n  if (isRN) new (Function.prototype.bind.apply(Function, [null, 'export_object', session.client_js]))()(orm);\n  else {\n    session.client_js = 'var export_object = {};\\n' + session.client_js + '\\nexport default export_object;';\n    const URL = window.URL || window.webkitURL;\n    let blob;\n    try {\n      blob = new Blob([session.client_js], {type: 'text/javascript'});\n    }\n    catch(error) {\n      const BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n      blob = BlobBuilder();\n      blob.append(session.client_js);\n      blob = blob.getBlob('text/javascript');\n    }\n    const exported = await import(/* webpackIgnore: true */URL.createObjectURL(blob))\n    orm = exported.default;\n  }\n  const tools = orm.tools;\n  tools.configuration = Object.assign(tools.configuration, window.rapyd_config);\n  tools.configuration.url = window.localStorage.rapyd_server_url;\n  const models = orm.models;\n  models.env.context.unsaved = session.unsaved || {};\n  models.env.user = models.env['res.users'].browse();\n  models.env.user.id = session.id;\n  models.env.user.login = session.login;\n  models.env.user.password = session.password;\n  await tools.create_data();\n  console.log(session)\n  /*for (let model in tools.view) {\n    const views = tools.view[model];\n    for (let mode in views) {\n      if (hasValue(['id', 'string', 'custom_init'], mode)) {\n        continue;\n      }\n      views[mode] = views[mode].replace(/([a-z]*-[a-z]*[/>\\s])|([a-z]*[/>\\s])/g, (string) => string.split('-').map((word) => word.slice(0, 1).toUpperCase() + word.slice(1)).join('')).replace(/>\\s+|\\s+</g, (s) => s.trim());\n    }\n  }*/\n  tools.configuration.ajax_load = (options) => {if (!options.no_preload) options.preload = preload()};\n  tools.configuration.ajax_resolve = (resolve, xhr, options) => {\n    if (!options.no_preload) options.preload.done();\n    resolve(xhr.response);\n  }\n  tools.configuration.ajax_reject = (reject, xhr, options) => {\n    if (!options.no_preload) options.preload.done();\n    reject(xhr);\n  }\n  globals.exceptionCount = 0;\n  tools.configuration.exception = (error) => {\n    /*if (globals.exceptionCount !== 0) return new Promise((resolve) => {\n      globals.exceptionCount = 0;\n      resolve(true);\n      throw error;\n    });*/\n    globals.exceptionCount += 1;\n    if (error && Object.keys(tools.exceptions).find((exception) => exception === error.type || tools.exceptions[exception] === error.constructor)) {\n      if (error.type !== 'ServerError') globals.app.dialog.alert(error.message);\n      else globals.app.dialog.alert('There are some error');\n      throw new Error(error.message);\n    }\n    else globals.app.dialog.alert('Network Error');\n    throw error;\n  }\n  globals.warningCount = 0;\n  tools.configuration.warning = (error, offline=false) => {\n    if (globals.warningCount !== 0) return new Promise((resolve) => {\n      globals.warningCount = 0;\n      resolve(true);\n      console.warn(error);\n    });\n    if (offline) globals.app.toast.create({text: 'You are offline, using local data', closeButton: true, closeTimeout: 1000}).open();\n    globals.warningCount += 1;\n    console.warn(error);\n  }\n  globals.orm_ready(orm);\n  return orm;\n}\n\nfunction handleClientError(error) {\n  if (export_object.tools && error && Object.values(export_object.tools.exceptions).find((exception) => exception === error.constructor)) export_object.tools.configuration.exception(error);\n  else throw error;\n}\n\nfunction ajax(type, dataType, url, data) {\n  if (data !== undefined || null || false) {\n    data = parseURI(data);\n  }\n  return new Promise(function(resolve, reject) {\n    const xhr = new XMLHttpRequest();\n    xhr.open(type, url, true);\n    xhr.onload = function() {\n      resolve(this.response);\n    };\n    xhr.onerror = function() {\n      reject(this.statusText);\n    };\n    if (dataType === undefined) {\n      dataType = 'json';\n    }\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    xhr.responseType = dataType;\n    try {\n      xhr.send(data);\n    }\n    catch(error) {\n      reject(error);\n    }\n  });\n}\n\nfunction parseURI(data) {\n  const array = [];\n  for (let key in data) {\n    let value = data[key];\n    if (typeof value === 'object') {\n      value = JSON.stringify(value);\n    }\n    else if (value === '') {\n      value = null;\n    }\n    array.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n  }\n  return array.join('&');\n}\n\nfunction readAsDataURL(file) {\n  const load = preload();\n  return new Promise((resolve, reject) => {\n    if (!file) reject(new Error('No file available'));\n    const reader = new FileReader();\n    reader.onload = (event) => resolve(event.target.result);\n    reader.readAsDataURL(file);\n  }).then(load.done).catch((error) => {\n    load.done();\n    throw error;\n  });\n}\n\nfunction hasKey(object, key) {\n  if (object === undefined || object === null || object === false) {\n    return false;\n  }\n  return Object.keys(object).indexOf(key) > -1;\n}\n\nfunction hasValue(object, value) {\n  if (object === undefined || object === null || object === false) {\n    return false;\n  }\n  if ([Array, String].indexOf(object.constructor) < 0) {\n    object = object.toString();\n  }\n  return object.indexOf(value) > -1;\n}\n\n\nfunction checkBase64(string) {\n  try {\n   return window.btoa(window.atob(string)) === string;\n  }\n  catch(error) {\n   return false;\n  }\n}\n\nfunction decodeBuffer(string) {\n  string = window.atob(string);\n  let array = new Uint8Array(string.length);\n  for (let i = 0; i < string.length; i++) {\n    array[i] = string.charCodeAt(i);\n  }\n  return array //new Int8Array(array.buffer);\n}\n\n/*function query(db, type, args) {\n  const makeDocID = db.rel.makeDocID;\n  const selectors = [{_id: {$gt: makeDocID({type}), $lt: makeDocID({type, id: {}})}}];\n  const promises = [];\n  let index = 1;\n  for (let arg of args) {\n    let need_orm;\n    if (!arg || !arg[0] || !arg[0].length) continue;\n    selectors[index] = {};\n    if (arg[0] === 'id') {\n      selectors[index]._id = {};\n      if (Array.isArray(arg[2])) arg[2] = arg[2].map((id) => makeDocID({type, id}));\n      else arg[2] = makeDocID({type, id: arg[2]})\n      arg[0] = '_id';\n    }\n    else arg[0] = 'data.' + arg[0];\n    if (!selectors[index][arg[0]]) selectors[index][arg[0]] = {};\n    if (arg[1] === '=') {\n      if (arg[2] != false) selectors[index][arg[0]]['$eq'] =  arg[2];\n      else selectors[index][arg[0]]['$lte'] = false;\n    }\n    else if (arg[1] === '!=') {\n      if (arg[2] != false) {\n        need_orm = true;\n        promises.push(db.find({selector: {[arg[0]]: {$gt: arg[2]}}, fields: ['_id']}));\n        promises.push(db.find({selector: {[arg[0]]: {$lt: arg[2]}}, fields: ['_id']}));\n      }\n      else selectors[index][arg[0]]['$gt'] = false;\n    }\n    else if (arg[1] === '>') selectors[index][arg[0]]['$gt'] = typeof arg[2] === 'number' ? (arg[2] + 0.000000000000001) : arg[2];\n    else if (arg[1] === '>=') selectors[index][arg[0]]['$gte'] = arg[2];\n    else if (arg[1] === '<') selectors[index][arg[0]]['$lt'] = arg[2];\n    else if (arg[1] === '<=') selectors[index][arg[0]]['$lte'] = arg[2];\n    else if (arg[1] === 'in' && Array.isArray(arg[2])) {\n      for (let value of arg[2]) {\n        promises.push(db.find({selector: {[arg[0]]: {$eq: value}}, fields: ['_id']}));\n      }\n      if (!arg[2].length) return new Promise((resolve, reject) => resolve([]));\n    }\n    else if (arg[1] === 'not in' && Array.isArray(arg[2])) {\n      if (arg[2].length) need_orm = true;\n      for (let value of arg[2]) {\n        promises.push(db.find({selector: {[arg[0]]: {$gt: value}}, fields: ['_id']}));\n        promises.push(db.find({selector: {[arg[0]]: {$lt: value}}, fields: ['_id']}));\n      }\n    }\n    else if (arg[1] === 'like') {\n      //selectors[index][arg[0]]['$gte'] = arg[2];\n      //promises.push(db.search({query: arg[2], fields: [arg[0]], include_docs: false}));\n      need_orm = true;\n    }\n    else if (arg[1] === 'ilike') {\n      //selectors[index][arg[0]]['$gte'] = arg[2];\n      //promises.push(db.search({query: arg[2], fields: [arg[0]], include_docs: false}));\n      need_orm = true;\n    }\n    if (!Object.keys(selectors[index][arg[0]]).length) {\n      delete selectors[index][arg[0]];\n      selectors.pop([index]);\n      if (!need_orm) arg.splice(0, arg.length);\n      else arg[0] = arg[0].replace('data.', '')\n      continue;\n    }\n    if (!need_orm) arg.splice(0, arg.length);\n    else arg[0] = arg[0].replace('data.', '')\n    index += 1;\n  }\n  for (let selector of selectors) {\n    promises.push(db.find({selector, fields: ['_id']}))\n  }\n  return Promise.all(promises).then((results) => {\n    let ids = [];\n    for (let result of results) {\n      const docs = result.docs || result.rows;\n      for (let doc of docs) {\n        ids.push(doc._id || doc.id)\n      }\n    }\n    if (promises.length > 1) ids = ids.filter((value, index, self) => self.indexOf(value) !== index && value.split('_')[0] === type);\n    ids = ids.map((id) => db.rel.parseDocID(id).id);\n    return ids;\n  });\n}\n\nwindow.qe = query;*/\n\nconst export_object =  {globals, preload, get_session, update_session, wait, wait_exist, login, logout, ORM, handleClientError, ajax, readAsDataURL, parseURI, hasValue, hasKey};\n\nexport default export_object;\n","import React from 'react';\nimport {\n  Page,\n  LoginScreenTitle,\n  List,\n  ListInput,\n  //ListButton,\n  Button,\n} from 'framework7-react';\nimport api from 'api';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n    };\n  }\n\n  async componentDidMount() {\n    for (let input of document.querySelectorAll('input[type=text], input[type=password]')) {\n      input.addEventListener('keyup', this.clickEvent.bind(this));\n    }\n    const load = api.preload();\n    if (window.rapyd_config.choose_database) this.setState({databases: await api.ajax('get', 'json', window.localStorage.rapyd_server_url + '/api/databases')});\n    load.done();\n  }\n\n  render() {\n    return (\n      <Page noToolbar noNavbar noSwipeback loginScreen>\n        <LoginScreenTitle>Welcome</LoginScreenTitle>\n        <List form>\n          {this.state.databases &&\n          <ListInput\n            required\n            id=\"login-page-database\"\n            label=\"Database\"\n            type=\"select\"\n            onInput={(e) => {\n              this.setState({ database: e.target.value});\n            }}\n          >\n            <option disabled selected value=''>Choose</option>\n            {this.state.databases && this.state.databases.map((database) =>\n            <option style={{color: '#212121'}} value={database}>{database}</option>\n            )}\n          </ListInput>\n          }\n          <ListInput\n            label=\"Username\"\n            type=\"text\"\n            placeholder=\"Your username\"\n            value={this.state.username}\n            onInput={(e) => {\n              this.setState({ username: e.target.value});\n            }}\n            autofocus\n          />\n          <ListInput\n            label=\"Password\"\n            type=\"password\"\n            placeholder=\"Your password\"\n            value={this.state.password}\n            onInput={(e) => {\n              this.setState({ password: e.target.value});\n            }}\n          />\n          <Button onClick={this.signIn.bind(this)} style={{float: 'left', marginLeft: '10px'}}>Login</Button>\n          <Button onClick={this.setUrl.bind(this)} style={{float: 'right', marginRight: '10px'}}>Settings</Button>\n        </List>\n      </Page>\n    )\n  }\n  clickEvent(event) {\n    event.preventDefault();\n    if (event.keyCode === 13) {\n      this.signIn();\n    }\n  }\n  setUrl() {\n    const app = this.$f7;\n    app.dialog.prompt('', 'Server URL', (url) => localStorage.rapyd_server_url = url);\n    const input = document.querySelector('input.dialog-input');\n    if (input) {\n      input.value = localStorage.rapyd_server_url;\n    }\n  }\n  async signIn() {\n    const load = api.preload();\n    const self = this;\n    const app = self.$f7;\n    //const router = self.$f7.router;\n    try {\n      const success = await api.login({login: self.state.username, password: self.state.password, encrypted: false, ...(this.state.database ? {database: this.state.database} : {})});\n      load.done();\n      if (!success) {\n        return app.dialog.alert('Username/Password wrong, relogin');\n      }\n      app.dialog.alert('Login Successful!', () => {\n        window.location.reload();\n      });\n    }\n    catch(error) {\n      load.done();\n      app.dialog.alert('Network Error');\n      throw error;\n    }\n  }\n}\n","import LoginPage from './login';\n/*import AboutPage from './components/pages/AboutPage';\nimport TreePage from './components/pages/TreePage';\nimport FormPage from './components/pages/FormPage';\nimport CustomPage from './components/pages/CustomPage';\nimport NotFound from './components/pages/NotFound';\nimport PanelLeft from './components/pages/PanelLeft';\nimport PanelRight from './components/pages/PanelRight';*/\n\nconst routes = () => /*window.models ? [\n  {\n    path: '/',\n    component: HomePage,\n  },\n  {\n    path: '/panel-left/',\n    component: PanelLeft,\n  },\n  {\n    path: '/panel-right/',\n    component: PanelRight,\n  },\n  {\n    path: '/about/',\n    component: AboutPage,\n  },\n  {\n    path: '/tree/:model',\n    component: TreePage,\n  },\n  {\n    path: '/form/:model',\n    component: FormPage,\n  },\n  {\n    path: '/view/:view_id',\n    component: CustomPage,\n  },\n  {\n    path: '(.*)',\n    component: NotFound,\n  },\n] :*/ [{path: '(.*)', component: LoginPage}];\n\nexport default routes;\n","import React from 'react';\nimport {\n  App,\n  //Panel,\n  View,\n  Statusbar,\n  /*Popup,\n  Page,\n  Navbar,\n  NavRight,\n  Link,\n  Block,\n  LoginScreen,\n  LoginScreenTitle,\n  List,\n  ListItem,\n  Label,\n  Input,\n  ListButton,\n  BlockFooter*/\n} from 'framework7-react';\n\nimport routes from './routes';\n\nexport default function (props) {\n\n  const f7params = {\n    id: 'org.rapyd.client', // App bundle ID\n    name: 'App', // App name\n    theme: 'md', // Automatic theme detection\n    // App routes\n    routes: routes(),\n    panel: {\n      swipe: 'left',\n      leftBreakpoint: 960,\n      swipeThreshold: 230,\n    },\n  };\n\n  return (\n    <App params={f7params} colorTheme={'gray'}>\n      {/* Statusbar */}\n      <Statusbar />\n\n      {/* Main View */}\n      <View id=\"main-view\" url=\"/\" main className=\"ios-edges\" preloadPreviousPage={false} pushState/>\n\n      {/*\n      <Popup id=\"popup\">\n        <View>\n          <Page>\n            <Navbar title=\"Popup\">\n              <NavRight>\n                <Link popupClose>Close</Link>\n              </NavRight>\n            </Navbar>\n            <Block>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Neque, architecto. Cupiditate laudantium rem nesciunt numquam, ipsam. Voluptates omnis, a inventore atque ratione aliquam. Omnis iusto nemo quos ullam obcaecati, quod.</Block>\n          </Page>\n        </View>\n      </Popup>*/}\n\n    </App>\n  );\n}\n","// Import React and ReactDOM\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Import Framework7\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n// Import Framework7-React plugin\nimport Framework7React from 'framework7-react';\n\nimport * as Framework7Components from 'framework7-react';\n\n// Import main App component\nimport App from './app.js';\n\n/*import Page from './components/Page.jsx';\n\nimport Flatpickr from './components/Flatpickr.jsx';*/\n\n// Framework7 styles\nimport 'framework7/css/framework7.min.css';\n\n// Icons\nimport './css/icons.css';\n\n// Custom app styles\nimport './css/app.css';\n\nimport {React as Selectivity, Templates} from 'selectivity/react';\nimport 'selectivity/styles/selectivity-react.css';\nimport flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport {AgGridReact} from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-material.css';\nimport csv from 'csv.js';\nimport FileSaver from 'file-saver';\n\nimport * as OfflinePluginRuntime from 'offline-plugin/runtime';\n\nimport api from 'api';\n\nOfflinePluginRuntime.install({onInstalled: () => OfflinePluginRuntime.update(), onUpdateReady: () => api.tools ? api.globals.app.dialog.confirm('Update available, apply it?', () => OfflinePluginRuntime.applyUpdate(() => window.location.reload())) : OfflinePluginRuntime.applyUpdate(() => window.location.reload())});\n\n// Init Framework7-React plugin\nFramework7.use(Framework7React);\n\nwindow.React = React;\nwindow.ReactDOM = ReactDOM;\n\nwindow.rapydComponents = {...Framework7Components, ...window.rapydComponents};\n\napi.client = {api, components: window.rapydComponents, selectivity: {Selectivity, Templates}, flatpickr, csv, Framework7Components, FileSaver, AgGridReact};\n\n// Mount React App\n(async () => {\n  const wait_session = api.get_session();\n  try {\n    window.addEventListener('beforeinstallprompt', async (event) => {\n      event.preventDefault();\n      await wait_session;\n      api.globals.InstallPromp = event;\n      await api.wait_exist(() => document.getElementById('pwa_install_button'));\n      document.getElementById('pwa_install_button').style.display = 'inline-block';\n    });\n  }\n  catch (error) {\n    console.error(error);\n  }\n  await wait_session;\n  const tools = api.tools;\n  if (!tools) return ReactDOM.render(React.createElement(App), document.getElementById('app'))\n  else {\n    tools.client = api.client;\n    return tools.init_client()\n  }\n})();\n","if (!window.ReactDOM) {\n  throw Error('ReactDOM must be defined on global variable');\n}\n\nmodule.exports = window.ReactDOM;\n"],"sourceRoot":""}