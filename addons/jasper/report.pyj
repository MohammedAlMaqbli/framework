@async
def get_jasper_report(report, value, format='pdf', server='https://jasper.odooabc.com/jasperserver', username='c0b4d1b4c4', password='c0b4d1r4b4'):
    request = await [fetch(server + '/jasperserver/rest_v2/reportExecutions', {'credentials': 'include', 'method': 'POST', 'headers': {'Authorization': 'Basic ' + btoa(username + ':' + password), 'Content-Type': 'application/json'}, 'body': JSON.stringify({'reportUnitUri': report, 'outputFormat': format, 'parameters': {'reportParameter': [{'name': 'data', 'value': [value]}]}})})]
    text = await [request.text()]
    xml = new DOMParser().parseFromString(text, 'text/xml')
    request_id, export_id = xml.querySelector('requestId').innerHTML, xml.querySelector('export').querySelector('id').innerHTML
    url = server + '/rest_v2/reportExecutions/' + request_id + '/exports/' + export_id + '/outputResource'
    return url
